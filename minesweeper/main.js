(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var s=n.getElementsByTagName("script");if(s.length)for(var a=s.length-1;a>-1&&!t;)t=s[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();e.p;class t{node;constructor({tagName:e="div",className:t=[],textContent:n="",parentNode:s}){this.node=document.createElement(e),this.node.textContent=n,this.addClass(t),s&&s.append(this.node)}append(...e){for(let t of e)this.node.append(t.getElement())}getElement(){return this.node}addClass(e){(function e(t){if(Array.isArray(t))for(let n of t)e.call(this,n);else{if(""===t)return;this.node.classList.add(t)}}).call(this,e)}removeClass(e){this.node.classList.remove(e)}toggleClass(e){this.node.classList.toggle(e)}destroy(){this.node.remove()}}class n extends t{constructor(){super({className:["minesweeper"]})}}class s extends t{iconComponent=null;constructor({textContent:e,a11yLabel:n,iconComponent:s,className:a=[]}){if(super({tagName:"button",className:[a,"button"],textContent:e}),this.iconComponent=s,this.iconComponent&&this.append(this.iconComponent),n){const e=new t({tagName:"span",className:"visually-hidden",textContent:n});this.append(e)}}switchIcon(e){this.iconComponent?(this.iconComponent.getElement().replaceWith(e.getElement()),this.iconComponent=e):(this.iconComponent=e,this.append(this.iconComponent))}}class a extends t{constructor({className:e=[],min:t="0",max:n="10",value:s="0",step:a="1"}){super({tagName:"input",className:[e,"range-slider"]}),this.node.setAttribute("type","range"),this.node.setAttribute("min",t.toString()),this.node.setAttribute("max",n.toString()),this.node.setAttribute("value",s.toString()),this.node.setAttribute("step",a.toString())}getValue(){return this.node.value}setValue(e){this.node.value=e}}class o extends t{constructor({className:e="svg-icon",template:t}){super({}),this.node=function(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}(t),this.node.classList.add(e)}}class i extends t{constructor({icon:e,className:n=[],min:s,max:i,value:l}){super({className:[n,"button-expandable","button"]}),e&&this.append(new o(e)),this.rangeInputComponent=new a({min:s,max:i,value:l}),this.outputField=new t({tagName:"output",className:"button-expandable__output"}),this.append(this.outputField,this.rangeInputComponent)}getSliderValue(){return this.rangeInputComponent.getValue()}setSliderValue(e){this.rangeInputComponent.setValue(e)}setOutputValue(e){this.outputField.getElement().textContent=e}}class l extends t{constructor({tagName:e,className:n,items:s}){if(super({tagName:e,className:n}),!s)throw new Error("items have not been added");for(let e of s){if(!(e instanceof t))throw new Error("item is not a component");{const n=new t({tagName:"li"});n.append(e),this.append(n)}}}}const r={DAY:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd">\n    <path d="M12 8a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-6 4a6 6 0 1 1 12 0 6 6 0 0 1-12 0ZM12 0a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V1a1 1 0 0 1 1-1ZM12 20a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1ZM3.513 3.513a1 1 0 0 1 1.414 0l1.42 1.42a1 1 0 0 1-1.414 1.414l-1.42-1.42a1 1 0 0 1 0-1.414ZM17.653 17.653a1 1 0 0 1 1.414 0l1.42 1.42a1 1 0 0 1-1.414 1.414l-1.42-1.42a1 1 0 0 1 0-1.414ZM0 12a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1ZM20 12a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1ZM6.347 17.653a1 1 0 0 1 0 1.414l-1.42 1.42a1 1 0 0 1-1.414-1.414l1.42-1.42a1 1 0 0 1 1.414 0ZM20.487 3.513a1 1 0 0 1 0 1.414l-1.42 1.42a1 1 0 1 1-1.414-1.414l1.42-1.42a1 1 0 0 1 1.414 0Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h24v24H0z"/>\n    </clipPath>\n  </defs>\n</svg>\n',LIST:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.87868 1.87868C4.44129 1.31607 5.20435 1 6 1H14C14.2652 1 14.5196 1.10536 14.7071 1.29289L20.7071 7.29289C20.8946 7.48043 21 7.73478 21 8V20C21 20.7957 20.6839 21.5587 20.1213 22.1213C19.5587 22.6839 18.7957 23 18 23H6C5.20435 23 4.44129 22.6839 3.87868 22.1213C3.31607 21.5587 3 20.7957 3 20V4C3 3.20435 3.31607 2.44129 3.87868 1.87868ZM6 3C5.73478 3 5.48043 3.10536 5.29289 3.29289C5.10536 3.48043 5 3.73478 5 4V20C5 20.2652 5.10536 20.5196 5.29289 20.7071C5.48043 20.8946 5.73478 21 6 21H18C18.2652 21 18.5196 20.8946 18.7071 20.7071C18.8946 20.5196 19 20.2652 19 20V9H14C13.4477 9 13 8.55228 13 8V3H6ZM15 4.41421L17.5858 7H15V4.41421ZM7 9C7 8.44772 7.44772 8 8 8H10C10.5523 8 11 8.44772 11 9C11 9.55228 10.5523 10 10 10H8C7.44772 10 7 9.55228 7 9ZM7 13C7 12.4477 7.44772 12 8 12H16C16.5523 12 17 12.4477 17 13C17 13.5523 16.5523 14 16 14H8C7.44772 14 7 13.5523 7 13ZM7 17C7 16.4477 7.44772 16 8 16H16C16.5523 16 17 16.4477 17 17C17 17.5523 16.5523 18 16 18H8C7.44772 18 7 17.5523 7 17Z"/>\n  </svg>\n  ',MARK:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M20.707 5.293a1 1 0 0 1 0 1.414l-11 11a1 1 0 0 1-1.414 0l-5-5a1 1 0 1 1 1.414-1.414L9 15.586 19.293 5.293a1 1 0 0 1 1.414 0Z" clip-rule="evenodd"/>\n</svg>\n',MINE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n  <path fill="none" d="M0 0h24v24H0z"/>\n  <path fill-rule="evenodd" d="M23 12a1 1 0 0 1-1 1h-4.09a5.69 5.69 0 0 1-1 2.48l.06.06 2.83 2.83a1 1 0 0 1-1.42 1.42L15.53 17l-.06-.06a5.69 5.69 0 0 1-2.48 1A.28.28 0 0 1 13 18v4a1 1 0 0 1-2 0v-4a.28.28 0 0 1 0-.09 5.69 5.69 0 0 1-2.48-1l-.05.09-2.83 2.78a1 1 0 0 1-1.42-1.42l2.83-2.83.06-.06a5.69 5.69 0 0 1-1-2.48H2a1 1 0 0 1 0-2h4.09a5.69 5.69 0 0 1 1-2.48l-.06-.06-2.81-2.81a1 1 0 0 1 1.42-1.42l2.83 2.83.06.06a5.69 5.69 0 0 1 2.48-1A.28.28 0 0 1 11 6V2a1 1 0 0 1 2 0v4a.28.28 0 0 1 0 .09 5.69 5.69 0 0 1 2.48 1l.06-.06 2.83-2.83a1 1 0 1 1 1.42 1.42L17 8.47l-.06.06a5.69 5.69 0 0 1 1 2.48H22a1 1 0 0 1 1 .99Z"/>\n</svg>\n',NIGHT:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M12.081 2.509a1 1 0 0 1-.067 1.085 6 6 0 0 0 8.392 8.392 1 1 0 0 1 1.59.896A10 10 0 1 1 11.118 2.004a1 1 0 0 1 .963.505Zm-2.765 1.93a8 8 0 1 0 10.245 10.245A7.999 7.999 0 0 1 9.316 4.439Z" clip-rule="evenodd"/>\n</svg>\n',SETTINGS:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd">\n    <path d="M12 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"/>\n    <path d="M12 2a1 1 0 0 0-1 1v.174a2.65 2.65 0 0 1-1.606 2.425 1 1 0 0 1-.264.073 2.65 2.65 0 0 1-2.73-.607l-.007-.008-.06-.06a1.003 1.003 0 0 0-1.415 0h-.001a1 1 0 0 0 0 1.415l.068.069a2.65 2.65 0 0 1 .542 2.894 2.65 2.65 0 0 1-2.414 1.705H3a1 1 0 0 0 0 2h.174a2.65 2.65 0 0 1 2.423 1.601 2.65 2.65 0 0 1-.532 2.918l-.008.008-.06.06a1.003 1.003 0 0 0-.217 1.09 1 1 0 0 0 .217.325v.001a.999.999 0 0 0 1.415 0l.069-.068a2.65 2.65 0 0 1 2.894-.543 2.65 2.65 0 0 1 1.705 2.415V21a1 1 0 0 0 2 0V20.826a2.65 2.65 0 0 1 1.601-2.423 2.65 2.65 0 0 1 2.918.532l.008.008.06.06a1.002 1.002 0 0 0 1.415 0h.001a1 1 0 0 0 0-1.416l-.068-.068a2.65 2.65 0 0 1-.532-2.918A2.65 2.65 0 0 1 20.906 13H21a1 1 0 0 0 0-2H20.826a2.65 2.65 0 0 1-2.425-1.606.999.999 0 0 1-.073-.264 2.65 2.65 0 0 1 .607-2.73l.008-.007.06-.06a1.002 1.002 0 0 0 0-1.415v-.001a1 1 0 0 0-1.416 0l-.068.068a2.65 2.65 0 0 1-2.918.532A2.65 2.65 0 0 1 13 3.094V3a1 1 0 0 0-1-1ZM9.879.879A3 3 0 0 1 15 3v.087a.65.65 0 0 0 .394.594l.01.004a.65.65 0 0 0 .714-.127l.055-.055a3 3 0 0 1 4.895 3.27c-.151.365-.372.696-.65.974l-.056.055a.65.65 0 0 0-.127.714c.028.064.05.13.064.2a.65.65 0 0 0 .534.284H21a3 3 0 1 1 0 6h-.087a.65.65 0 0 0-.594.394l-.004.01a.65.65 0 0 0 .127.714l.055.055a3.002 3.002 0 0 1 0 4.245l-.707-.708.707.707a3 3 0 0 1-4.244 0l-.055-.055a.65.65 0 0 0-.714-.127l-.01.004a.649.649 0 0 0-.394.593V21a3 3 0 0 1-6 0v-.076a.65.65 0 0 0-.425-.585.955.955 0 0 1-.059-.024.65.65 0 0 0-.714.127l-.054.055a3.002 3.002 0 1 1-4.245-4.244l.055-.055a.65.65 0 0 0 .127-.714l-.004-.01a.649.649 0 0 0-.594-.394H3a3 3 0 0 1 0-6h.076a.65.65 0 0 0 .585-.425l.024-.059a.65.65 0 0 0-.127-.714l-.055-.054a3 3 0 1 1 4.244-4.245l.055.055a.65.65 0 0 0 .714.127 1 1 0 0 1 .2-.064A.65.65 0 0 0 9 3.167V3A3 3 0 0 1 9.879.879Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h24v24H0z"/>\n    </clipPath>\n  </defs>\n</svg>\n',MUTE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M11.433 4.099A1 1 0 0 1 12 5v14a1 1 0 0 1-1.625.78L5.65 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.65l4.725-3.78a1 1 0 0 1 1.058-.121ZM10 7.08l-3.375 2.7A1 1 0 0 1 6 10H3v4h3a1 1 0 0 1 .625.22L10 16.92V7.08ZM23.707 8.293a1 1 0 0 1 0 1.414l-6 6a1 1 0 0 1-1.414-1.414l6-6a1 1 0 0 1 1.414 0Z" clip-rule="evenodd"/>\n  <path fill-rule="evenodd" d="M16.293 8.293a1 1 0 0 1 1.414 0l6 6a1 1 0 0 1-1.414 1.414l-6-6a1 1 0 0 1 0-1.414Z" clip-rule="evenodd"/>\n</svg>\n',UNMUTE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M11.433 4.099a1 1 0 0 1 .567.9v14a1 1 0 0 1-1.625.782L5.65 16H2a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.65l4.725-3.78a1 1 0 0 1 1.058-.121ZM10 7.08l-3.375 2.7A1 1 0 0 1 6 10H3v4h3a1 1 0 0 1 .625.22L10 16.92V7.08ZM18.363 4.223a1 1 0 0 1 1.414 0 11 11 0 0 1 0 15.554 1 1 0 1 1-1.414-1.414 9 9 0 0 0 0-12.726 1 1 0 0 1 0-1.414Zm-3.53 3.53a1 1 0 0 1 1.414 0 6 6 0 0 1 0 8.484 1 1 0 1 1-1.414-1.414 4 4 0 0 0 0-5.656 1 1 0 0 1 0-1.414Z" clip-rule="evenodd"/>\n</svg>\n',BURGER:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M2.358 12.045a1 1 0 0 1 1-1h18a1 1 0 0 1 0 2h-18a1 1 0 0 1-1-1ZM2.358 6.045a1 1 0 0 1 1-1h18a1 1 0 0 1 0 2h-18a1 1 0 0 1-1-1ZM2.358 18.045a1 1 0 0 1 1-1h18a1 1 0 0 1 0 2h-18a1 1 0 0 1-1-1Z" clip-rule="evenodd"/>\n</svg>\n',TILE:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">\n  <path fill-rule="evenodd" d="M18 5H6a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1ZM6 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H6Z" clip-rule="evenodd"/>\n</svg>\n'};class d extends t{newGameButton=new s({className:"minesweeper__new-game-button",textContent:"new game"});scoreButton=new s({className:"button--icon",a11yLabel:"score"});themeButton=new s({className:"button--icon",a11yLabel:"theme"});soundButton=new s({className:"button--icon",a11yLabel:"sound"});burgerButton=new s({className:"button--icon",a11yLabel:"burger"});constructor({className:e}){super({className:[e,"control-panel"]});const n=localStorage.getItem("sliderPosition");this.tileSettingButton=new i({icon:{template:r.TILE},min:0,max:2,value:n||0}),this.mineSettingButton=new i({icon:{template:r.MINE},min:10,max:99,value:n||10}),this.scoreButton.append(new o({template:r.LIST})),this.burgerButton.append(new o({template:r.BURGER}));const s=new t({className:"minesweeper__button-group"});s.append(this.newGameButton,this.tileSettingButton,this.mineSettingButton);const a=new l({tagName:"ul",className:"minesweeper__button-list",items:[this.scoreButton,this.themeButton,this.soundButton,this.burgerButton]});this.append(s,a)}setThemeButtonIcon(e){this.themeButton.switchIcon(e)}setSoundButtonIcon(e){this.soundButton.switchIcon(e)}getTileSettingSliderValue(){return this.tileSettingButton.getSliderValue()}getMineSettingSliderValue(){return this.mineSettingButton.getSliderValue()}setNewGameButtonClickHandler(e){this.newGameButton.getElement().addEventListener("click",e)}setTileSettingsButtonClickHandler(e){this.tileSettingButton.getElement().addEventListener("input",e)}setMineSettingsButtonClickHandler(e){this.mineSettingButton.getElement().addEventListener("input",e)}setScoreButtonClickHandler(e){this.scoreButton.getElement().addEventListener("click",e)}setThemeButtonClickHandler(e){this.themeButton.getElement().addEventListener("click",e)}setSoundButtonClickHandler(e){this.soundButton.getElement().addEventListener("click",e)}}const h="light",m="dark",c=[10,15,25],u="lose",p=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],g="tileSliderPosition",C="mineSliderPosition";class v{controlPanelComponent=new d({className:"minesweeper__control-panel"});constructor(e,t,n,s,a,o){this.settings=e,this.container=t,this.onStartGameButtonClickHandler=n,this.onThemeChangeHandler=s,this.onSoundChangeHandler=a,this.onScoreTableButtonClickHandler=o}render(){this.setHandlers(),this.container.append(this.controlPanelComponent),this.switchSoundButtonIcon(),this.switchThemeButtonIcon();const e=localStorage.getItem(g)||0;this.controlPanelComponent.tileSettingButton.setSliderValue(e),this.controlPanelComponent.tileSettingButton.setOutputValue(c[e]);const t=localStorage.getItem(C)||10;this.controlPanelComponent.mineSettingButton.setSliderValue(t),this.controlPanelComponent.mineSettingButton.setOutputValue(t),window.addEventListener("beforeunload",(()=>{localStorage.setItem(g,this.controlPanelComponent.getTileSettingSliderValue()),localStorage.setItem(C,this.controlPanelComponent.getMineSettingSliderValue())}))}setHandlers(){this.controlPanelComponent.setNewGameButtonClickHandler((()=>{this.onStartGameButtonClickHandler()})),this.controlPanelComponent.setTileSettingsButtonClickHandler((()=>{const e=this.controlPanelComponent.getTileSettingSliderValue();localStorage.setItem(g,e),this.controlPanelComponent.tileSettingButton.setOutputValue(c[e])})),this.controlPanelComponent.setMineSettingsButtonClickHandler((()=>{const e=this.controlPanelComponent.getMineSettingSliderValue();localStorage.setItem(C,e),this.controlPanelComponent.mineSettingButton.setOutputValue(e)})),this.controlPanelComponent.setScoreButtonClickHandler((()=>{this.onScoreTableButtonClickHandler()})),this.controlPanelComponent.setThemeButtonClickHandler((()=>{this.onThemeChangeHandler(),this.switchThemeButtonIcon()})),this.controlPanelComponent.setSoundButtonClickHandler((()=>{this.onSoundChangeHandler(),this.switchSoundButtonIcon()}))}switchSoundButtonIcon(){const e=new o({template:!1===this.settings.mute?r.MUTE:r.UNMUTE});this.controlPanelComponent.setSoundButtonIcon(e)}switchThemeButtonIcon(){const e=new o({template:this.settings.theme===h?r.NIGHT:r.DAY});this.controlPanelComponent.setThemeButtonIcon(e)}getTileSettingSliderValue(){return this.controlPanelComponent.getTileSettingSliderValue()}getMineSettingSliderValue(){return this.controlPanelComponent.getMineSettingSliderValue()}}class S extends t{constructor({labelText:e,className:n=[]}){super({tagName:"p",className:[n,"info-field"]});const s=new t({tagName:"span",textContent:e,className:"info-field__label"});this.valueComponent=new t({tagName:"output",textContent:"00",className:"info-field__value"}),this.append(s,this.valueComponent)}setValue(e){this.valueComponent.getElement().textContent=e}}class w extends t{constructor({className:e}){super({className:[e,"timer"]}),this.minutesComponent=new S({labelText:"minutes",className:"timer__minutes"}),this.secondsComponent=new S({labelText:"seconds",className:"timer__seconds"}),this.append(this.minutesComponent,this.secondsComponent),this.append(new t({tagName:"p",className:"timer__divider",textContent:":"}))}setTime({minutes:e,seconds:t}){this.minutesComponent.setValue(e),this.secondsComponent.setValue(t)}}class f extends t{infoBar=null;board=null;timer=null;time=null;steps=null;unmarkedMines=null;constructor({className:e}){super({className:[e,"playground"]}),this.steps=new S({labelText:"moves"}),this.timer=new w({className:"minesweeper__timer"}),this.time=new S({labelText:"seconds"}),this.unmarkedMines=new S({labelText:"unmarked"}),this.infoBar=new t({className:"minesweeper__info-bar"}),this.infoBar.append(this.time,this.steps,this.unmarkedMines),this.board=new t({className:["minesweeper__board","board"]}),this.append(this.infoBar,this.board)}setStepsComponentValue(e){const t=e.toString().padStart(2,"0");this.steps.setValue(t)}setTimerValue(e){const t={minutes:Math.floor(e/60).toString().padStart(2,"0"),seconds:(e%60).toString().padStart(2,"0")};this.timer.setTime(t)}setTimeValue(e){const t=e.toString().padStart(2,"0");this.time.setValue(t)}setUnmarkedMinesValue(e){let t;e<0&&e>-10?(t=e.toString().split(""),t=[].concat(t[0],"0",t[1]).join("")):t=e.toString().padStart(2,"0"),this.unmarkedMines.setValue(t)}setContextHandler(e){this.node.addEventListener("contextmenu",e)}}const b=["tile__content--color-variant-1st","tile__content--color-variant-2nd","tile__content--color-variant-3rd"];class M extends t{constructor({cellData:e,className:n=[]}){super({className:[n,"tile"]});const{id:s,isMarked:a,isCovered:i,value:l}=e;if(this.isMarked=a,this.isCovered=i,this.value=l,this.id=s,"*"===this.value)this.content=new t({tagName:"span",className:"tile__content"}),this.content.append(new o({template:r.MINE}));else{let e;if("*"===this.value)e="";else{const t=b.length,n=this.value%t;e=b[n]}this.content=new t({tagName:"span",className:[e,"tile__content"],textContent:0===this.value?"":this.value})}this.append(this.content),i&&(this.cover=new t({className:"tile__cover"}),this.isMarked&&this.cover.append(new o({template:r.MARK})),this.append(this.cover))}setLeftClickHandler(e){this.leftClickHandler=e,this.node.addEventListener("click",this.leftClickHandler)}setRightClickHandler(e){this.rigthClickHandler=e,this.node.addEventListener("contextmenu",this.rigthClickHandler)}removeHandlers(){this.node.removeEventListener("click",this.leftClickHandler),this.node.removeEventListener("contextmenu",this.rigthClickHandler)}}function H(e,t){return Math.round(e+Math.random()*(t-e))}const N="minesweeperModel",k="*";class x{cells=[];onDataChangeHandler=null;setModel(e,t,n){const s=!!this.loadFromStorage();this.cells=s?JSON.parse(localStorage.getItem(N)):this.generateCellData(e,t,n)}saveInStorage(){localStorage.setItem(N,JSON.stringify(this.cells))}eraseFromStorage(){localStorage.removeItem(N)}loadFromStorage(){return localStorage.getItem(N)}getData(){return this.cells}generateCellData({boardSize:e,boardMineCount:t},n,s){const a=new Array(e).fill(0).map((()=>new Array(e).fill(0)));if(n){let e=0;return a.map((t=>t.map((t=>{const n={id:e,isMarked:!1,isCovered:!0,value:t};return e+=1,n}))))}let o=0;for(;o<t;){const t=H(0,e-1),n=H(0,e-1);a[t][n]!==k&&(t===s.lineIndex&&n===s.cellIndex||(a[t][n]=k,o+=1))}let i=0;return a.map(((t,n)=>t.map(((t,s)=>{if(t===k){const e={id:i,isMarked:!1,isCovered:!0,value:t};return i+=1,e}let o=0;p.forEach((t=>{let i;n+t[0]>=0&&n+t[0]<e&&s+t[1]>=0&&s+t[1]<e&&(i=a[n+t[0]][s+t[1]]),o+=i===k?1:0}));const l={id:i,isMarked:!1,isCovered:!0,value:o};return i+=1,l}))))}updateData(e){let t;for(let n of this.cells)if(t=n.find((t=>t.id===e.id)),t)break;for(let n in e)t[n]=void 0!==e[n]?e[n]:t[n];this.onDataChangeHandler(t)}setOnDataChangeHandler(e){this.onDataChangeHandler=e}}function T(e,t){let n,s;for(let a=0;a<e.length;a++)for(let o=0;o<e.length;o++)if(e[a][o]===t){n=a,s=o;break}return{lineIndex:n,cellIndex:s}}const B=[e.p+"assets\\audio/click-sound-variant-1.mp3",e.p+"assets\\audio/click-sound-variant-2.mp3",e.p+"assets\\audio/win-sound.mp3",e.p+"assets\\audio/lose-sound.mp3"];class I extends t{muted=!1;constructor({className:e=[],src:n=B}={}){super({className:[e,"audio"],tagName:"audio"}),this.sounds=n,this.components=this.sounds.map((e=>{const n=new t({tagName:"audio"});return n.getElement().src=e,n}))}playLeftClickSound(){const e=this.components[1];this.playSound(e)}playRightClickSound(){const e=this.components[0];this.playSound(e)}playWinSound(){const e=this.components[2];this.playSound(e)}playLoseSound(){const e=this.components[3];this.playSound(e)}playSound(e){e.getElement().muted=this.muted,e.getElement().play()}mute(){this.muted=!0}unmute(){this.muted=!1}}const E="timer",y="steps",V="unmarkedMinesCounter";class _{playground=null;tileComponents=[];steps=0;timer=0;time=0;unmarkedMinesCounter=0;intervalId=null;isGameStarted=!1;soundEffectsComponent=new I;constructor(e,t,n){this.settings=e,this.container=t,this.onEndGameHandler=n,this.dataChangeHandler=this.dataChangeHandler.bind(this),this.onStartGameHandler=this.onStartGameHandler.bind(this),this.model=new x}render(){window.addEventListener("beforeunload",(()=>{this.isGameStarted&&(this.model.saveInStorage(),localStorage.setItem(E,this.timer),localStorage.setItem(y,this.steps),localStorage.setItem(V,this.unmarkedMinesCounter))}));if(this.model.loadFromStorage())return void this.startGame();this.isGameStarted=!1,this.model.setModel(this.settings,!0),this.model.setOnDataChangeHandler(this.onStartGameHandler);const e=this.model.getData();this.createTileComponents(e),this.renderPlayground()}createTileComponents(e){this.tileComponents=e.map((e=>e.map((e=>this.createTileComponent(e)))))}renderPlayground(){this.playground&&this.playground.destroy(),this.playground=new f({className:"minesweeper__playground"}),this.tileComponents.forEach((e=>{const n=new t({className:"minesweeper__tile-row"});for(let t of e)n.append(t);this.playground.board.append(n)})),this.container.append(this.playground),this.playground.setContextHandler((e=>e.preventDefault()))}startGame(e){this.isGameStarted=!0;const t=T(this.tileComponents,e);this.model.setModel(this.settings,!1,t),this.model.setOnDataChangeHandler(this.dataChangeHandler);const n=this.model.getData();this.createTileComponents(n),this.renderPlayground();const s=localStorage.getItem(E),a=localStorage.getItem(y),o=localStorage.getItem(V);this.timer=+s||0,this.steps=+a||0,this.unmarkedMinesCounter=+o||this.settings.boardMineCount,this.playground.setTimerValue(this.timer),this.playground.setTimeValue(this.timer),this.playground.setStepsComponentValue(this.steps),this.playground.setUnmarkedMinesValue(this.unmarkedMinesCounter),this.applySoundSettings(),this.startTimer(),this.model.saveInStorage()}dataChangeHandler(e){this.rerenderTile(e)}onStartGameHandler(e){this.startGame(e)}createTileComponent(e){let t=new M({cellData:e});return t.setLeftClickHandler((()=>{if(!this.isGameStarted){const e=T(this.tileComponents,t);this.startGame(t),t=this.tileComponents[e.lineIndex][e.cellIndex]}t.isCovered&&!t.isMarked&&(this.steps++,this.setStepsField(),this.soundEffectsComponent.playLeftClickSound()),this.uncoverTile(t),"*"===t.value&&(this.showMines(),this.stopPlaygroundEvents(),this.isGameStarted=!1,localStorage.removeItem(y),localStorage.removeItem(E),localStorage.removeItem(V),this.model.eraseFromStorage(),this.onEndGameHandler(u),this.soundEffectsComponent.playLoseSound());0===this.tileComponents.flat(1).filter((e=>e.isCovered&&"*"!==e.value)).length&&(this.stopPlaygroundEvents(),this.isGameStarted=!1,localStorage.removeItem(y),localStorage.removeItem(E),localStorage.removeItem(V),this.model.eraseFromStorage(),this.onEndGameHandler("win",this.steps,this.timer),this.soundEffectsComponent.playWinSound()),this.unmarkedMinesCounter=this.settings.boardMineCount-this.tileComponents.flat(1).filter((e=>!0===e.isMarked)).length,this.playground.setUnmarkedMinesValue(this.unmarkedMinesCounter)})),t.setRightClickHandler((e=>{e.preventDefault(),this.isGameStarted&&(this.soundEffectsComponent.playRightClickSound(),this.model.updateData({id:t.id,isMarked:!t.isMarked}),this.unmarkedMinesCounter=this.settings.boardMineCount-this.tileComponents.flat(1).filter((e=>!0===e.isMarked)).length,this.playground.setUnmarkedMinesValue(this.unmarkedMinesCounter))})),t}restartGame(){this.model.eraseFromStorage(),this.stopTimer(),localStorage.removeItem(E),localStorage.removeItem(y),localStorage.removeItem(V),this.render()}rerenderTile(e){let t;for(let n of this.tileComponents)if(t=n.find((t=>t.id===e.id)),t)break;const{lineIndex:n,cellIndex:s}=T(this.tileComponents,t),a=this.createTileComponent(e);t.node.replaceWith(a.node),t.destroy(),t=null,this.tileComponents[n][s]=a}uncoverTile(e){if(0===e.value&&e.isCovered&&!1===e.isMarked){const t=T(this.tileComponents,e),{cellIndex:n,lineIndex:s}=t;this.model.updateData({id:e.id,isCovered:!1,isMarked:!1});const a=this.tileComponents.length;p.forEach((e=>{if(s+e[0]>=0&&s+e[0]<a&&n+e[1]>=0&&n+e[1]<a){const t=this.tileComponents[s+e[0]][n+e[1]];this.uncoverTile(t)}}))}else e.isMarked||this.model.updateData({id:e.id,isCovered:!1,isMarked:!1})}showMines(){this.tileComponents.flat(1).filter((e=>"*"===e.value)).forEach((e=>this.uncoverTile(e)))}stopPlaygroundEvents(){this.tileComponents.flat(1).forEach((e=>e.removeHandlers()))}applySoundSettings(){this.settings.mute?this.soundEffectsComponent.mute():this.soundEffectsComponent.unmute()}setTimerField({minutes:e,seconds:t}){this.playground.getTimerComponent().setTime({minutes:e,seconds:t})}setStepsField(){this.playground.setStepsComponentValue(this.steps)}stopTimer(){clearInterval(this.intervalId)}startTimer(){this.intervalId=setInterval((()=>{this.timer+=1,this.playground.setTimerValue(this.timer),this.playground.setTimeValue(this.timer)}),1e3)}getModel(){return this.model}}class G extends t{constructor({className:e=[],textContent:n}){super({className:[e,"modal"]}),this.background=new t({className:"modal__background"});const a=new t({className:"modal__container"}),o=new t({className:"modal__text",textContent:n});this.submitButton=new s({className:"modal__button",textContent:"OK"}),a.append(o,this.submitButton),this.background.append(a),this.append(this.background)}setSubmitClickHandler(e){this.submitButton.getElement().addEventListener("click",e)}}class L extends t{constructor({className:e=[],items:n}={}){super({className:[e,"modal"],tagName:"article"});let a=null;a=n?new l({tagName:"ul",className:"modal__list",items:n}):new t({className:"modal__text",textContent:"No records"}),this.background=new t({className:"modal__background"});const o=new t({className:"modal__container"}),i=new t({tagName:"h1",className:"modal__title",textContent:"score table"});this.submitButton=new s({className:"modal__button",textContent:"OK"}),o.append(i,a,this.submitButton),this.background.append(o),this.append(this.background)}setSubmitClickHandler(e){this.submitButton.getElement().addEventListener("click",e)}}const P={boardSize:10,boardMineCount:10,theme:h,mute:!1},Z="scoreTable",A="settings";const D=new t({className:"page-wrapper"});document.body.append(D.getElement());new class{savedSettings=JSON.parse(localStorage.getItem(A));settings=this.savedSettings||P;minesweeperComponent=new n;controlPanelController=new v(this.settings,this.minesweeperComponent,this.onStartGameButtonClickHandler.bind(this),this.onThemeChangeHandler.bind(this),this.onSoundChangeHandler.bind(this),this.onScoreTableButtonClickHandler.bind(this));playgroundController=new _(this.settings,this.minesweeperComponent,this.onGameEndHandler.bind(this));timer=null;intervalId=null;scoreTable=JSON.parse(localStorage.getItem(Z))||[];constructor(e){this.container=e}render(){switch(this.container.append(this.minesweeperComponent),this.controlPanelController.render(),this.playgroundController.render(),this.settings.theme){case"light":this.minesweeperComponent.addClass(`theme-${h}`);break;case"dark":this.minesweeperComponent.addClass(`theme-${m}`)}window.addEventListener("beforeunload",(()=>{localStorage.setItem(A,JSON.stringify(this.settings))}))}onThemeChangeHandler(){const e=`theme-${this.settings.theme}`;this.minesweeperComponent.toggleClass(e),this.settings.theme=this.settings.theme===h?m:h;const t=`theme-${this.settings.theme}`;this.minesweeperComponent.toggleClass(t)}onSoundChangeHandler(){this.settings.mute=!this.settings.mute,this.playgroundController.applySoundSettings()}onScoreTableButtonClickHandler(){if(this.scoreTable.length>0){const e=this.scoreTable.map((e=>{const{name:n,time:s,steps:a}=e;return new t({textContent:`${n} | ${s} | ${a} moves`})}));this.scoreModal=new L({items:e})}else this.scoreModal=new L;this.scoreModal.setSubmitClickHandler(this.onScoreTableSubmitClickHandler.bind(this)),this.minesweeperComponent.append(this.scoreModal)}onStartGameButtonClickHandler(){const e=this.controlPanelController.getTileSettingSliderValue(),t=this.controlPanelController.getMineSettingSliderValue();this.settings.boardSize=c[e],this.settings.boardMineCount=t,this.playgroundController.restartGame()}onEndGameSubmitClickHandler(){this.endGameModal.destroy(),this.endGameModal=null}onScoreTableSubmitClickHandler(){this.scoreModal.destroy(),this.scoreModal=null}onGameEndHandler(e,t,n){switch(this.playgroundController.stopTimer(),e){case"win":{const e=Math.floor(n/60),s=n%60,a=""+(0===e?"":`${e}  ${e>1?"minutes":"minute"}`),o=""+(0===s?"":`${s}  ${s>1?"seconds":"second"}`),i="Hooray! You found all mines in ## seconds and #N moves!".replace("in ## seconds and",""===a&&""===o?"instantly in":`in ${a} ${o} and`).replace("#N",t);this.endGameModal=new G({textContent:i});const l={name:(new Date).toLocaleTimeString("en-US",{hour12:!1}),time:`${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`,steps:t};this.scoreTable.unshift(l),this.scoreTable.length=10,this.scoreTable=this.scoreTable.filter((e=>null!==e)),localStorage.setItem(Z,JSON.stringify(this.scoreTable));break}case u:this.endGameModal=new G({textContent:"Game over. Try again"})}this.endGameModal.setSubmitClickHandler(this.onEndGameSubmitClickHandler.bind(this)),this.minesweeperComponent.append(this.endGameModal)}}(D).render()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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USxLQUFNd0ksR0FDbEZ2SixLQUFLNFQsYUFBZSxJQUFJeEIsRUFBc0IsQ0FBRTlRLFlBQWEwUyxJQUM3RCxNQUFNQyxFQUFjLENBQ2xCbFMsTUFBTSxJQUFJbVMsTUFBT0MsbUJBQW1CLFFBQVMsQ0FBRUMsUUFBUSxJQUN2RDlLLEtBQU0sR0FBR04sRUFBUXZGLFdBQVdrRyxTQUFTLEVBQUcsUUFBUVYsRUFBUXhGLFdBQVdrRyxTQUFTLEVBQUcsT0FDL0VKLE1BQU9BLEdBRVR2SixLQUFLcVQsV0FBV2dCLFFBQVFKLEdBQ3hCalUsS0FBS3FULFdBQVd6UyxPQUFTLEdBQ3pCWixLQUFLcVQsV0FBYXJULEtBQUtxVCxXQUFXN0IsUUFBUThDLEdBQW9CLE9BQVZBLElBQ3BEeE8sYUFBYXFDLFFBQVF5SyxFQUF5QnpHLEtBQUtJLFVBQVV2TSxLQUFLcVQsYUFDbEUsS0FDRixDQUNBLEtBQUtuTSxFQUNIbEgsS0FBSzRULGFBQWUsSUFBSXhCLEVBQXNCLENBQUU5USxZakI5SC9CLHlCaUJnSXJCdEIsS0FBSzRULGFBQWFwQixzQkFBc0J4UyxLQUFLMlQsNEJBQTRCOUQsS0FBSzdQLE9BQzlFQSxLQUFLaVQscUJBQXFCdlIsT0FBTzFCLEtBQUs0VCxhQUN4QyxHQ3BJc0RkLEdBQ2xDakwsUSIsInNvdXJjZXMiOlsid2VicGFjazovL21pbmVzd2VlcGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21pbmVzd2VlcGVyL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvY29tcG9uZW50cy9iYXNlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL21pbmVzd2VlcGVyL21pbmVzd2VlcGVyLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbi9idXR0b24uY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvaW5wdXQvcmFuZ2UtaW5wdXQuY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvc3ZnLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy91dGlscy9jcmVhdGUtZWxlbWVudC1mcm9tLXRlbXBsYXRlLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL2J1dHRvbi1leHBhbmRhYmxlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL2xpc3QuY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2VudW1zL3N2Zy1pY29ucy5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL2NvbnRyb2wtcGFuZWwvY29udHJvbC1wYW5lbC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbnRyb2xsZXJzL2NvbnRyb2wtcGFuZWwuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL2luZm8tZmllbGQvaW5mby1maWVsZC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvY29tcG9uZW50cy90aW1lci90aW1lci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvY29tcG9uZW50cy9wbGF5Z3JvdW5kL3BsYXlncm91bmQuY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvdGlsZS90aWxlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy91dGlscy9nZXQtcmFuZG9tLWludC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9tb2RlbHMvbWluZXN3ZWVwZXIubW9kZWwuanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvdXRpbHMvZ2V0LW1hdHJpeC1wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9hc3NldHMvbWVkaWEvY2xpY2stc291bmQtdmFyaWFudC0xLm1wMyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9jb21wb25lbnRzL2F1ZGlvLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9hc3NldHMvbWVkaWEvY2xpY2stc291bmQtdmFyaWFudC0yLm1wMyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9hc3NldHMvbWVkaWEvd2luLXNvdW5kLm1wMyIsIndlYnBhY2s6Ly9taW5lc3dlZXBlci8uL3NyYy9hc3NldHMvbWVkaWEvbG9zZS1zb3VuZC5tcDMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvY29udHJvbGxlcnMvcGxheWdyb3VuZC5jb250cm9sbGVyLmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvbW9kYWwvZW5kLWdhbWUtbW9kYWwuY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbXBvbmVudHMvbW9kYWwvc2NvcmUtdGFibGUtbW9kYWwuY29tcG9uZW50LmpzIiwid2VicGFjazovL21pbmVzd2VlcGVyLy4vc3JjL2NvbnRyb2xsZXJzL21pbmVzd2VlcGVyLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vbWluZXN3ZWVwZXIvLi9zcmMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsImV4cG9ydCBjbGFzcyBCYXNlQ29tcG9uZW50IHtcbiAgbm9kZTtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRhZ05hbWUgPSAnZGl2JyxcbiAgICBjbGFzc05hbWUgPSBbXSxcbiAgICB0ZXh0Q29udGVudCA9ICcnLFxuICAgIHBhcmVudE5vZGUsXG4gIH0pIHtcbiAgICB0aGlzLm5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIHRoaXMubm9kZS50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgIHRoaXMuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgcGFyZW50Tm9kZS5hcHBlbmQodGhpcy5ub2RlKTtcbiAgICB9XG4gIH1cblxuICBhcHBlbmQoLi4uY29tcG9uZW50cykge1xuICAgIGZvciAobGV0IGNvbXBvbmVudCBvZiBjb21wb25lbnRzKSB7XG4gICAgICB0aGlzLm5vZGUuYXBwZW5kKGNvbXBvbmVudC5nZXRFbGVtZW50KCkpO1xuICAgIH1cbiAgfVxuXG4gIGdldEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZTtcbiAgfVxuXG4gIGFkZENsYXNzKGNsYXNzTmFtZSkge1xuICAgIGFkZC5jYWxsKHRoaXMsIGNsYXNzTmFtZSk7XG5cbiAgICBmdW5jdGlvbiBhZGQobmFtZSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZSkpIHtcbiAgICAgICAgZm9yIChsZXQgaXRlbSBvZiBuYW1lKSB7XG4gICAgICAgICAgYWRkLmNhbGwodGhpcywgaXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVDbGFzcyhuYW1lKSB7XG4gICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5yZW1vdmUobmFtZSk7XG4gIH1cblxuICB0b2dnbGVDbGFzcyhuYW1lKSB7XG4gICAgdGhpcy5ub2RlLmNsYXNzTGlzdC50b2dnbGUobmFtZSk7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRoaXMubm9kZS5yZW1vdmUoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL21pbmVzd2VlcGVyLmNvbXBvbmVudC5zY3NzJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBNaW5lc3dlZXBlckNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7IGNsYXNzTmFtZTogWydtaW5lc3dlZXBlciddIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vYnV0dG9uLmNvbXBvbmVudC5zY3NzJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBCdXR0b25Db21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgaWNvbkNvbXBvbmVudCA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKHsgdGV4dENvbnRlbnQsIGExMXlMYWJlbCwgaWNvbkNvbXBvbmVudCwgY2xhc3NOYW1lID0gW10gfSkge1xuICAgIHN1cGVyKHsgdGFnTmFtZTogJ2J1dHRvbicsIGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ2J1dHRvbiddLCB0ZXh0Q29udGVudCB9KTtcbiAgICB0aGlzLmljb25Db21wb25lbnQgPSBpY29uQ29tcG9uZW50O1xuXG4gICAgaWYgKHRoaXMuaWNvbkNvbXBvbmVudCkge1xuICAgICAgdGhpcy5hcHBlbmQodGhpcy5pY29uQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICBpZiAoYTExeUxhYmVsKSB7XG4gICAgICBjb25zdCBsYWJlbCA9IG5ldyBCYXNlQ29tcG9uZW50KHtcbiAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuICAgICAgICBjbGFzc05hbWU6ICd2aXN1YWxseS1oaWRkZW4nLFxuICAgICAgICB0ZXh0Q29udGVudDogYTExeUxhYmVsLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcGVuZChsYWJlbCk7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoSWNvbihuZXdJY29uQ29tcG9uZW50KSB7XG4gICAgaWYgKHRoaXMuaWNvbkNvbXBvbmVudCkge1xuICAgICAgdGhpcy5pY29uQ29tcG9uZW50LmdldEVsZW1lbnQoKS5yZXBsYWNlV2l0aChuZXdJY29uQ29tcG9uZW50LmdldEVsZW1lbnQoKSk7XG4gICAgICB0aGlzLmljb25Db21wb25lbnQgPSBuZXdJY29uQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmljb25Db21wb25lbnQgPSBuZXdJY29uQ29tcG9uZW50O1xuICAgICAgdGhpcy5hcHBlbmQodGhpcy5pY29uQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAnLi9yYW5nZS1pbnB1dC5jb21wb25lbnQuc2Nzcyc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgUmFuZ2VJbnB1dENvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IGNsYXNzTmFtZSA9IFtdLCBtaW4gPSAnMCcsIG1heCA9ICcxMCcsIHZhbHVlID0gJzAnLCBzdGVwID0gJzEnIH0pIHtcbiAgICBzdXBlcih7IHRhZ05hbWU6ICdpbnB1dCcsIGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ3JhbmdlLXNsaWRlciddIH0pO1xuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncmFuZ2UnKTtcbiAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCdtaW4nLCBtaW4udG9TdHJpbmcoKSk7XG4gICAgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnbWF4JywgbWF4LnRvU3RyaW5nKCkpO1xuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgdmFsdWUudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnc3RlcCcsIHN0ZXAudG9TdHJpbmcoKSk7XG4gIH1cblxuICBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlLnZhbHVlO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLm5vZGUudmFsdWUgPSB2YWx1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudEZyb21UZW1wbGF0ZSB9IGZyb20gJy4uL3V0aWxzL2NyZWF0ZS1lbGVtZW50LWZyb20tdGVtcGxhdGUnO1xuXG5leHBvcnQgY2xhc3MgU1ZHQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHsgY2xhc3NOYW1lID0gJ3N2Zy1pY29uJywgdGVtcGxhdGUgfSkge1xuICAgIHN1cGVyKHt9KTtcbiAgICB0aGlzLm5vZGUgPSBjcmVhdGVFbGVtZW50RnJvbVRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICB0aGlzLm5vZGUuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRWxlbWVudEZyb21UZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IHRlbXBsYXRlO1xuICByZXR1cm4gY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkO1xufVxuIiwiaW1wb3J0ICcuL2J1dHRvbi1leHBhbmRhYmxlLmNvbXBvbmVudC5zY3NzJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBSYW5nZUlucHV0Q29tcG9uZW50IH0gZnJvbSAnLi4vaW5wdXQvcmFuZ2UtaW5wdXQuY29tcG9uZW50JztcbmltcG9ydCB7IFNWR0NvbXBvbmVudCB9IGZyb20gJy4uL3N2Zy5jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgQnV0dG9uRXhwYW5kYWJsZUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IGljb24sIGNsYXNzTmFtZSA9IFtdLCBtaW4sIG1heCwgdmFsdWUgfSkge1xuICAgIHN1cGVyKHsgY2xhc3NOYW1lOiBbY2xhc3NOYW1lLCAnYnV0dG9uLWV4cGFuZGFibGUnLCAnYnV0dG9uJ10gfSk7XG5cbiAgICBpZiAoaWNvbikge1xuICAgICAgdGhpcy5hcHBlbmQobmV3IFNWR0NvbXBvbmVudChpY29uKSk7XG4gICAgfVxuXG4gICAgdGhpcy5yYW5nZUlucHV0Q29tcG9uZW50ID0gbmV3IFJhbmdlSW5wdXRDb21wb25lbnQoeyBtaW46IG1pbiwgbWF4OiBtYXgsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICB0aGlzLm91dHB1dEZpZWxkID0gbmV3IEJhc2VDb21wb25lbnQoeyB0YWdOYW1lOiAnb3V0cHV0JywgY2xhc3NOYW1lOiAnYnV0dG9uLWV4cGFuZGFibGVfX291dHB1dCcgfSk7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5vdXRwdXRGaWVsZCwgdGhpcy5yYW5nZUlucHV0Q29tcG9uZW50KTtcbiAgfVxuXG4gIGdldFNsaWRlclZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnJhbmdlSW5wdXRDb21wb25lbnQuZ2V0VmFsdWUoKTtcbiAgfVxuXG4gIHNldFNsaWRlclZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5yYW5nZUlucHV0Q29tcG9uZW50LnNldFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIHNldE91dHB1dFZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5vdXRwdXRGaWVsZC5nZXRFbGVtZW50KCkudGV4dENvbnRlbnQgPSB2YWx1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vYmFzZS5jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgTGlzdENvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IHRhZ05hbWUsIGNsYXNzTmFtZSwgaXRlbXMgfSkge1xuICAgIHN1cGVyKHsgdGFnTmFtZSwgY2xhc3NOYW1lIH0pO1xuXG4gICAgaWYgKCFpdGVtcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpdGVtcyBoYXZlIG5vdCBiZWVuIGFkZGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBCYXNlQ29tcG9uZW50KSB7XG4gICAgICAgICAgY29uc3QgbGlzdEl0ZW1Db21wb25lbnQgPSBuZXcgQmFzZUNvbXBvbmVudCh7IHRhZ05hbWU6ICdsaScgfSk7XG4gICAgICAgICAgbGlzdEl0ZW1Db21wb25lbnQuYXBwZW5kKGl0ZW0pO1xuICAgICAgICAgIHRoaXMuYXBwZW5kKGxpc3RJdGVtQ29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2l0ZW0gaXMgbm90IGEgY29tcG9uZW50Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBTdmdJY29ucyA9IHtcbiAgREFZOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gIDxnIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXBhdGg9XCJ1cmwoI2EpXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgIDxwYXRoIGQ9XCJNMTIgOGE0IDQgMCAxIDAgMCA4IDQgNCAwIDAgMCAwLThabS02IDRhNiA2IDAgMSAxIDEyIDAgNiA2IDAgMCAxLTEyIDBaTTEyIDBhMSAxIDAgMCAxIDEgMXYyYTEgMSAwIDEgMS0yIDBWMWExIDEgMCAwIDEgMS0xWk0xMiAyMGExIDEgMCAwIDEgMSAxdjJhMSAxIDAgMSAxLTIgMHYtMmExIDEgMCAwIDEgMS0xWk0zLjUxMyAzLjUxM2ExIDEgMCAwIDEgMS40MTQgMGwxLjQyIDEuNDJhMSAxIDAgMCAxLTEuNDE0IDEuNDE0bC0xLjQyLTEuNDJhMSAxIDAgMCAxIDAtMS40MTRaTTE3LjY1MyAxNy42NTNhMSAxIDAgMCAxIDEuNDE0IDBsMS40MiAxLjQyYTEgMSAwIDAgMS0xLjQxNCAxLjQxNGwtMS40Mi0xLjQyYTEgMSAwIDAgMSAwLTEuNDE0Wk0wIDEyYTEgMSAwIDAgMSAxLTFoMmExIDEgMCAxIDEgMCAySDFhMSAxIDAgMCAxLTEtMVpNMjAgMTJhMSAxIDAgMCAxIDEtMWgyYTEgMSAwIDEgMSAwIDJoLTJhMSAxIDAgMCAxLTEtMVpNNi4zNDcgMTcuNjUzYTEgMSAwIDAgMSAwIDEuNDE0bC0xLjQyIDEuNDJhMSAxIDAgMCAxLTEuNDE0LTEuNDE0bDEuNDItMS40MmExIDEgMCAwIDEgMS40MTQgMFpNMjAuNDg3IDMuNTEzYTEgMSAwIDAgMSAwIDEuNDE0bC0xLjQyIDEuNDJhMSAxIDAgMSAxLTEuNDE0LTEuNDE0bDEuNDItMS40MmExIDEgMCAwIDEgMS40MTQgMFpcIi8+XG4gIDwvZz5cbiAgPGRlZnM+XG4gICAgPGNsaXBQYXRoIGlkPVwiYVwiPlxuICAgICAgPHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTAgMGgyNHYyNEgwelwiLz5cbiAgICA8L2NsaXBQYXRoPlxuICA8L2RlZnM+XG48L3N2Zz5cbmAsXG4gIExJU1Q6IGA8c3ZnIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTMuODc4NjggMS44Nzg2OEM0LjQ0MTI5IDEuMzE2MDcgNS4yMDQzNSAxIDYgMUgxNEMxNC4yNjUyIDEgMTQuNTE5NiAxLjEwNTM2IDE0LjcwNzEgMS4yOTI4OUwyMC43MDcxIDcuMjkyODlDMjAuODk0NiA3LjQ4MDQzIDIxIDcuNzM0NzggMjEgOFYyMEMyMSAyMC43OTU3IDIwLjY4MzkgMjEuNTU4NyAyMC4xMjEzIDIyLjEyMTNDMTkuNTU4NyAyMi42ODM5IDE4Ljc5NTcgMjMgMTggMjNINkM1LjIwNDM1IDIzIDQuNDQxMjkgMjIuNjgzOSAzLjg3ODY4IDIyLjEyMTNDMy4zMTYwNyAyMS41NTg3IDMgMjAuNzk1NyAzIDIwVjRDMyAzLjIwNDM1IDMuMzE2MDcgMi40NDEyOSAzLjg3ODY4IDEuODc4NjhaTTYgM0M1LjczNDc4IDMgNS40ODA0MyAzLjEwNTM2IDUuMjkyODkgMy4yOTI4OUM1LjEwNTM2IDMuNDgwNDMgNSAzLjczNDc4IDUgNFYyMEM1IDIwLjI2NTIgNS4xMDUzNiAyMC41MTk2IDUuMjkyODkgMjAuNzA3MUM1LjQ4MDQzIDIwLjg5NDYgNS43MzQ3OCAyMSA2IDIxSDE4QzE4LjI2NTIgMjEgMTguNTE5NiAyMC44OTQ2IDE4LjcwNzEgMjAuNzA3MUMxOC44OTQ2IDIwLjUxOTYgMTkgMjAuMjY1MiAxOSAyMFY5SDE0QzEzLjQ0NzcgOSAxMyA4LjU1MjI4IDEzIDhWM0g2Wk0xNSA0LjQxNDIxTDE3LjU4NTggN0gxNVY0LjQxNDIxWk03IDlDNyA4LjQ0NzcyIDcuNDQ3NzIgOCA4IDhIMTBDMTAuNTUyMyA4IDExIDguNDQ3NzIgMTEgOUMxMSA5LjU1MjI4IDEwLjU1MjMgMTAgMTAgMTBIOEM3LjQ0NzcyIDEwIDcgOS41NTIyOCA3IDlaTTcgMTNDNyAxMi40NDc3IDcuNDQ3NzIgMTIgOCAxMkgxNkMxNi41NTIzIDEyIDE3IDEyLjQ0NzcgMTcgMTNDMTcgMTMuNTUyMyAxNi41NTIzIDE0IDE2IDE0SDhDNy40NDc3MiAxNCA3IDEzLjU1MjMgNyAxM1pNNyAxN0M3IDE2LjQ0NzcgNy40NDc3MiAxNiA4IDE2SDE2QzE2LjU1MjMgMTYgMTcgMTYuNDQ3NyAxNyAxN0MxNyAxNy41NTIzIDE2LjU1MjMgMTggMTYgMThIOEM3LjQ0NzcyIDE4IDcgMTcuNTUyMyA3IDE3WlwiLz5cbiAgPC9zdmc+XG4gIGAsXG4gIE1BUks6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMjAuNzA3IDUuMjkzYTEgMSAwIDAgMSAwIDEuNDE0bC0xMSAxMWExIDEgMCAwIDEtMS40MTQgMGwtNS01YTEgMSAwIDEgMSAxLjQxNC0xLjQxNEw5IDE1LjU4NiAxOS4yOTMgNS4yOTNhMSAxIDAgMCAxIDEuNDE0IDBaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz5cbjwvc3ZnPlxuYCxcbiAgTUlORTogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgPHBhdGggZmlsbD1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiLz5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMjMgMTJhMSAxIDAgMCAxLTEgMWgtNC4wOWE1LjY5IDUuNjkgMCAwIDEtMSAyLjQ4bC4wNi4wNiAyLjgzIDIuODNhMSAxIDAgMCAxLTEuNDIgMS40MkwxNS41MyAxN2wtLjA2LS4wNmE1LjY5IDUuNjkgMCAwIDEtMi40OCAxQS4yOC4yOCAwIDAgMSAxMyAxOHY0YTEgMSAwIDAgMS0yIDB2LTRhLjI4LjI4IDAgMCAxIDAtLjA5IDUuNjkgNS42OSAwIDAgMS0yLjQ4LTFsLS4wNS4wOS0yLjgzIDIuNzhhMSAxIDAgMCAxLTEuNDItMS40MmwyLjgzLTIuODMuMDYtLjA2YTUuNjkgNS42OSAwIDAgMS0xLTIuNDhIMmExIDEgMCAwIDEgMC0yaDQuMDlhNS42OSA1LjY5IDAgMCAxIDEtMi40OGwtLjA2LS4wNi0yLjgxLTIuODFhMSAxIDAgMCAxIDEuNDItMS40MmwyLjgzIDIuODMuMDYuMDZhNS42OSA1LjY5IDAgMCAxIDIuNDgtMUEuMjguMjggMCAwIDEgMTEgNlYyYTEgMSAwIDAgMSAyIDB2NGEuMjguMjggMCAwIDEgMCAuMDkgNS42OSA1LjY5IDAgMCAxIDIuNDggMWwuMDYtLjA2IDIuODMtMi44M2ExIDEgMCAxIDEgMS40MiAxLjQyTDE3IDguNDdsLS4wNi4wNmE1LjY5IDUuNjkgMCAwIDEgMSAyLjQ4SDIyYTEgMSAwIDAgMSAxIC45OVpcIi8+XG48L3N2Zz5cbmAsXG4gIE5JR0hUOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTEyLjA4MSAyLjUwOWExIDEgMCAwIDEtLjA2NyAxLjA4NSA2IDYgMCAwIDAgOC4zOTIgOC4zOTIgMSAxIDAgMCAxIDEuNTkuODk2QTEwIDEwIDAgMSAxIDExLjExOCAyLjAwNGExIDEgMCAwIDEgLjk2My41MDVabS0yLjc2NSAxLjkzYTggOCAwIDEgMCAxMC4yNDUgMTAuMjQ1QTcuOTk5IDcuOTk5IDAgMCAxIDkuMzE2IDQuNDM5WlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+XG48L3N2Zz5cbmAsXG4gIFNFVFRJTkdTOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gIDxnIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXBhdGg9XCJ1cmwoI2EpXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiPlxuICAgIDxwYXRoIGQ9XCJNMTIgMTBhMiAyIDAgMSAwIDAgNCAyIDIgMCAwIDAgMC00Wm0tNCAyYTQgNCAwIDEgMSA4IDAgNCA0IDAgMCAxLTggMFpcIi8+XG4gICAgPHBhdGggZD1cIk0xMiAyYTEgMSAwIDAgMC0xIDF2LjE3NGEyLjY1IDIuNjUgMCAwIDEtMS42MDYgMi40MjUgMSAxIDAgMCAxLS4yNjQuMDczIDIuNjUgMi42NSAwIDAgMS0yLjczLS42MDdsLS4wMDctLjAwOC0uMDYtLjA2YTEuMDAzIDEuMDAzIDAgMCAwLTEuNDE1IDBoLS4wMDFhMSAxIDAgMCAwIDAgMS40MTVsLjA2OC4wNjlhMi42NSAyLjY1IDAgMCAxIC41NDIgMi44OTQgMi42NSAyLjY1IDAgMCAxLTIuNDE0IDEuNzA1SDNhMSAxIDAgMCAwIDAgMmguMTc0YTIuNjUgMi42NSAwIDAgMSAyLjQyMyAxLjYwMSAyLjY1IDIuNjUgMCAwIDEtLjUzMiAyLjkxOGwtLjAwOC4wMDgtLjA2LjA2YTEuMDAzIDEuMDAzIDAgMCAwLS4yMTcgMS4wOSAxIDEgMCAwIDAgLjIxNy4zMjV2LjAwMWEuOTk5Ljk5OSAwIDAgMCAxLjQxNSAwbC4wNjktLjA2OGEyLjY1IDIuNjUgMCAwIDEgMi44OTQtLjU0MyAyLjY1IDIuNjUgMCAwIDEgMS43MDUgMi40MTVWMjFhMSAxIDAgMCAwIDIgMFYyMC44MjZhMi42NSAyLjY1IDAgMCAxIDEuNjAxLTIuNDIzIDIuNjUgMi42NSAwIDAgMSAyLjkxOC41MzJsLjAwOC4wMDguMDYuMDZhMS4wMDIgMS4wMDIgMCAwIDAgMS40MTUgMGguMDAxYTEgMSAwIDAgMCAwLTEuNDE2bC0uMDY4LS4wNjhhMi42NSAyLjY1IDAgMCAxLS41MzItMi45MThBMi42NSAyLjY1IDAgMCAxIDIwLjkwNiAxM0gyMWExIDEgMCAwIDAgMC0ySDIwLjgyNmEyLjY1IDIuNjUgMCAwIDEtMi40MjUtMS42MDYuOTk5Ljk5OSAwIDAgMS0uMDczLS4yNjQgMi42NSAyLjY1IDAgMCAxIC42MDctMi43M2wuMDA4LS4wMDcuMDYtLjA2YTEuMDAyIDEuMDAyIDAgMCAwIDAtMS40MTV2LS4wMDFhMSAxIDAgMCAwLTEuNDE2IDBsLS4wNjguMDY4YTIuNjUgMi42NSAwIDAgMS0yLjkxOC41MzJBMi42NSAyLjY1IDAgMCAxIDEzIDMuMDk0VjNhMSAxIDAgMCAwLTEtMVpNOS44NzkuODc5QTMgMyAwIDAgMSAxNSAzdi4wODdhLjY1LjY1IDAgMCAwIC4zOTQuNTk0bC4wMS4wMDRhLjY1LjY1IDAgMCAwIC43MTQtLjEyN2wuMDU1LS4wNTVhMyAzIDAgMCAxIDQuODk1IDMuMjdjLS4xNTEuMzY1LS4zNzIuNjk2LS42NS45NzRsLS4wNTYuMDU1YS42NS42NSAwIDAgMC0uMTI3LjcxNGMuMDI4LjA2NC4wNS4xMy4wNjQuMmEuNjUuNjUgMCAwIDAgLjUzNC4yODRIMjFhMyAzIDAgMSAxIDAgNmgtLjA4N2EuNjUuNjUgMCAwIDAtLjU5NC4zOTRsLS4wMDQuMDFhLjY1LjY1IDAgMCAwIC4xMjcuNzE0bC4wNTUuMDU1YTMuMDAyIDMuMDAyIDAgMCAxIDAgNC4yNDVsLS43MDctLjcwOC43MDcuNzA3YTMgMyAwIDAgMS00LjI0NCAwbC0uMDU1LS4wNTVhLjY1LjY1IDAgMCAwLS43MTQtLjEyN2wtLjAxLjAwNGEuNjQ5LjY0OSAwIDAgMC0uMzk0LjU5M1YyMWEzIDMgMCAwIDEtNiAwdi0uMDc2YS42NS42NSAwIDAgMC0uNDI1LS41ODUuOTU1Ljk1NSAwIDAgMS0uMDU5LS4wMjQuNjUuNjUgMCAwIDAtLjcxNC4xMjdsLS4wNTQuMDU1YTMuMDAyIDMuMDAyIDAgMSAxLTQuMjQ1LTQuMjQ0bC4wNTUtLjA1NWEuNjUuNjUgMCAwIDAgLjEyNy0uNzE0bC0uMDA0LS4wMWEuNjQ5LjY0OSAwIDAgMC0uNTk0LS4zOTRIM2EzIDMgMCAwIDEgMC02aC4wNzZhLjY1LjY1IDAgMCAwIC41ODUtLjQyNWwuMDI0LS4wNTlhLjY1LjY1IDAgMCAwLS4xMjctLjcxNGwtLjA1NS0uMDU0YTMgMyAwIDEgMSA0LjI0NC00LjI0NWwuMDU1LjA1NWEuNjUuNjUgMCAwIDAgLjcxNC4xMjcgMSAxIDAgMCAxIC4yLS4wNjRBLjY1LjY1IDAgMCAwIDkgMy4xNjdWM0EzIDMgMCAwIDEgOS44NzkuODc5WlwiLz5cbiAgPC9nPlxuICA8ZGVmcz5cbiAgICA8Y2xpcFBhdGggaWQ9XCJhXCI+XG4gICAgICA8cGF0aCBmaWxsPVwiI2ZmZlwiIGQ9XCJNMCAwaDI0djI0SDB6XCIvPlxuICAgIDwvY2xpcFBhdGg+XG4gIDwvZGVmcz5cbjwvc3ZnPlxuYCxcbiAgTVVURTogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICA8cGF0aCBmaWxsLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0xMS40MzMgNC4wOTlBMSAxIDAgMCAxIDEyIDV2MTRhMSAxIDAgMCAxLTEuNjI1Ljc4TDUuNjUgMTZIMmExIDEgMCAwIDEtMS0xVjlhMSAxIDAgMCAxIDEtMWgzLjY1bDQuNzI1LTMuNzhhMSAxIDAgMCAxIDEuMDU4LS4xMjFaTTEwIDcuMDhsLTMuMzc1IDIuN0ExIDEgMCAwIDEgNiAxMEgzdjRoM2ExIDEgMCAwIDEgLjYyNS4yMkwxMCAxNi45MlY3LjA4Wk0yMy43MDcgOC4yOTNhMSAxIDAgMCAxIDAgMS40MTRsLTYgNmExIDEgMCAwIDEtMS40MTQtMS40MTRsNi02YTEgMSAwIDAgMSAxLjQxNCAwWlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+XG4gIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTE2LjI5MyA4LjI5M2ExIDEgMCAwIDEgMS40MTQgMGw2IDZhMSAxIDAgMCAxLTEuNDE0IDEuNDE0bC02LTZhMSAxIDAgMCAxIDAtMS40MTRaXCIgY2xpcC1ydWxlPVwiZXZlbm9kZFwiLz5cbjwvc3ZnPlxuYCxcbiAgVU5NVVRFOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBkPVwiTTExLjQzMyA0LjA5OWExIDEgMCAwIDEgLjU2Ny45djE0YTEgMSAwIDAgMS0xLjYyNS43ODJMNS42NSAxNkgyYTEgMSAwIDAgMS0xLTFWOWExIDEgMCAwIDEgMS0xaDMuNjVsNC43MjUtMy43OGExIDEgMCAwIDEgMS4wNTgtLjEyMVpNMTAgNy4wOGwtMy4zNzUgMi43QTEgMSAwIDAgMSA2IDEwSDN2NGgzYTEgMSAwIDAgMSAuNjI1LjIyTDEwIDE2LjkyVjcuMDhaTTE4LjM2MyA0LjIyM2ExIDEgMCAwIDEgMS40MTQgMCAxMSAxMSAwIDAgMSAwIDE1LjU1NCAxIDEgMCAxIDEtMS40MTQtMS40MTQgOSA5IDAgMCAwIDAtMTIuNzI2IDEgMSAwIDAgMSAwLTEuNDE0Wm0tMy41MyAzLjUzYTEgMSAwIDAgMSAxLjQxNCAwIDYgNiAwIDAgMSAwIDguNDg0IDEgMSAwIDEgMS0xLjQxNC0xLjQxNCA0IDQgMCAwIDAgMC01LjY1NiAxIDEgMCAwIDEgMC0xLjQxNFpcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIvPlxuPC9zdmc+XG5gLFxuICBCVVJHRVI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMi4zNTggMTIuMDQ1YTEgMSAwIDAgMSAxLTFoMThhMSAxIDAgMCAxIDAgMmgtMThhMSAxIDAgMCAxLTEtMVpNMi4zNTggNi4wNDVhMSAxIDAgMCAxIDEtMWgxOGExIDEgMCAwIDEgMCAyaC0xOGExIDEgMCAwIDEtMS0xWk0yLjM1OCAxOC4wNDVhMSAxIDAgMCAxIDEtMWgxOGExIDEgMCAwIDEgMCAyaC0xOGExIDEgMCAwIDEtMS0xWlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+XG48L3N2Zz5cbmAsXG4gIFRJTEU6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjI0XCIgaGVpZ2h0PVwiMjRcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNMTggNUg2YTEgMSAwIDAgMC0xIDF2MTJhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjZhMSAxIDAgMCAwLTEtMVpNNiAzYTMgMyAwIDAgMC0zIDN2MTJhMyAzIDAgMCAwIDMgM2gxMmEzIDMgMCAwIDAgMy0zVjZhMyAzIDAgMCAwLTMtM0g2WlwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIi8+XG48L3N2Zz5cbmAsXG59O1xuIiwiaW1wb3J0ICcuL2NvbnRyb2wtcGFuZWwuY29tcG9uZW50LnNjc3MnO1xuXG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnLi4vYnV0dG9uL2J1dHRvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgQnV0dG9uRXhwYW5kYWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24tZXhwYW5kYWJsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGlzdENvbXBvbmVudCB9IGZyb20gJy4uL2xpc3QuY29tcG9uZW50JztcbmltcG9ydCB7IFNWR0NvbXBvbmVudCB9IGZyb20gJy4uL3N2Zy5jb21wb25lbnQnO1xuaW1wb3J0IHsgU3ZnSWNvbnMgfSBmcm9tICcuLi8uLi9lbnVtcy9zdmctaWNvbnMnO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbFBhbmVsQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIG5ld0dhbWVCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX25ldy1nYW1lLWJ1dHRvbicsIHRleHRDb250ZW50OiAnbmV3IGdhbWUnIH0pO1xuXG4gIHNjb3JlQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudCh7IGNsYXNzTmFtZTogJ2J1dHRvbi0taWNvbicsIGExMXlMYWJlbDogJ3Njb3JlJyB9KTtcbiAgdGhlbWVCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnYnV0dG9uLS1pY29uJywgYTExeUxhYmVsOiAndGhlbWUnIH0pO1xuICBzb3VuZEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoeyBjbGFzc05hbWU6ICdidXR0b24tLWljb24nLCBhMTF5TGFiZWw6ICdzb3VuZCcgfSk7XG4gIGJ1cmdlckJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoeyBjbGFzc05hbWU6ICdidXR0b24tLWljb24nLCBhMTF5TGFiZWw6ICdidXJnZXInIH0pO1xuXG4gIGNvbnN0cnVjdG9yKHsgY2xhc3NOYW1lIH0pIHtcbiAgICBzdXBlcih7IGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ2NvbnRyb2wtcGFuZWwnXSB9KTtcbiAgICBjb25zdCBpbml0UmFuZ2VJbnB1dFZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NsaWRlclBvc2l0aW9uJyk7XG4gICAgdGhpcy50aWxlU2V0dGluZ0J1dHRvbiA9IG5ldyBCdXR0b25FeHBhbmRhYmxlQ29tcG9uZW50KHtcbiAgICAgIGljb246IHsgdGVtcGxhdGU6IFN2Z0ljb25zLlRJTEUgfSxcbiAgICAgIG1pbjogMCxcbiAgICAgIG1heDogMixcbiAgICAgIHZhbHVlOiBpbml0UmFuZ2VJbnB1dFZhbHVlIHx8IDAsXG4gICAgfSk7XG5cbiAgICB0aGlzLm1pbmVTZXR0aW5nQnV0dG9uID0gbmV3IEJ1dHRvbkV4cGFuZGFibGVDb21wb25lbnQoe1xuICAgICAgaWNvbjogeyB0ZW1wbGF0ZTogU3ZnSWNvbnMuTUlORSB9LFxuICAgICAgbWluOiAxMCxcbiAgICAgIG1heDogOTksXG4gICAgICB2YWx1ZTogaW5pdFJhbmdlSW5wdXRWYWx1ZSB8fCAxMCxcbiAgICB9KTtcblxuICAgIHRoaXMuc2NvcmVCdXR0b24uYXBwZW5kKG5ldyBTVkdDb21wb25lbnQoeyB0ZW1wbGF0ZTogU3ZnSWNvbnMuTElTVCB9KSk7XG4gICAgdGhpcy5idXJnZXJCdXR0b24uYXBwZW5kKG5ldyBTVkdDb21wb25lbnQoeyB0ZW1wbGF0ZTogU3ZnSWNvbnMuQlVSR0VSIH0pKTtcblxuICAgIGNvbnN0IGJ1dHRvbkdyb3VwID0gbmV3IEJhc2VDb21wb25lbnQoe1xuICAgICAgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX2J1dHRvbi1ncm91cCcsXG4gICAgfSk7XG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kKHRoaXMubmV3R2FtZUJ1dHRvbiwgdGhpcy50aWxlU2V0dGluZ0J1dHRvbiwgdGhpcy5taW5lU2V0dGluZ0J1dHRvbik7XG4gICAgY29uc3QgYnV0dG9uTGlzdCA9IG5ldyBMaXN0Q29tcG9uZW50KHtcbiAgICAgIHRhZ05hbWU6ICd1bCcsXG4gICAgICBjbGFzc05hbWU6ICdtaW5lc3dlZXBlcl9fYnV0dG9uLWxpc3QnLFxuICAgICAgaXRlbXM6IFt0aGlzLnNjb3JlQnV0dG9uLCB0aGlzLnRoZW1lQnV0dG9uLCB0aGlzLnNvdW5kQnV0dG9uLCB0aGlzLmJ1cmdlckJ1dHRvbl0sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcGVuZChidXR0b25Hcm91cCwgYnV0dG9uTGlzdCk7XG4gIH1cblxuICBzZXRUaGVtZUJ1dHRvbkljb24oaWNvbkNvbXBvbmVudCkge1xuICAgIHRoaXMudGhlbWVCdXR0b24uc3dpdGNoSWNvbihpY29uQ29tcG9uZW50KTtcbiAgfVxuXG4gIHNldFNvdW5kQnV0dG9uSWNvbihpY29uQ29tcG9uZW50KSB7XG4gICAgdGhpcy5zb3VuZEJ1dHRvbi5zd2l0Y2hJY29uKGljb25Db21wb25lbnQpO1xuICB9XG5cbiAgZ2V0VGlsZVNldHRpbmdTbGlkZXJWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy50aWxlU2V0dGluZ0J1dHRvbi5nZXRTbGlkZXJWYWx1ZSgpO1xuICB9XG5cbiAgZ2V0TWluZVNldHRpbmdTbGlkZXJWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5taW5lU2V0dGluZ0J1dHRvbi5nZXRTbGlkZXJWYWx1ZSgpO1xuICB9XG5cbiAgc2V0TmV3R2FtZUJ1dHRvbkNsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5uZXdHYW1lQnV0dG9uLmdldEVsZW1lbnQoKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZXIpO1xuICB9XG4gIHNldFRpbGVTZXR0aW5nc0J1dHRvbkNsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy50aWxlU2V0dGluZ0J1dHRvbi5nZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBoYW5kbGVyKTtcbiAgfVxuICBzZXRNaW5lU2V0dGluZ3NCdXR0b25DbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMubWluZVNldHRpbmdCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaGFuZGxlcik7XG4gIH1cbiAgc2V0U2NvcmVCdXR0b25DbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuc2NvcmVCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIH1cbiAgc2V0VGhlbWVCdXR0b25DbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMudGhlbWVCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIH1cbiAgc2V0U291bmRCdXR0b25DbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuc291bmRCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBUaGVtZVZhbHVlcyA9IHtcbiAgTElHSFQ6ICdsaWdodCcsXG4gIERBUks6ICdkYXJrJyxcbn07XG5cbmV4cG9ydCBjb25zdCBTSVpFX1ZBUklBTlRTID0gWzEwLCAxNSwgMjVdO1xuXG5leHBvcnQgY29uc3QgV0lOX1NJR04gPSAnd2luJztcbmV4cG9ydCBjb25zdCBMT1NFX1NJR04gPSAnbG9zZSc7XG5leHBvcnQgY29uc3QgV0lOX1RFWFQgPSAnSG9vcmF5ISBZb3UgZm91bmQgYWxsIG1pbmVzIGluICMjIHNlY29uZHMgYW5kICNOIG1vdmVzISc7XG5leHBvcnQgY29uc3QgTE9TRV9URVhUID0gJ0dhbWUgb3Zlci4gVHJ5IGFnYWluJztcblxuLyogZXNsaW50LWRpc2FibGUgcHJldHRpZXIvcHJldHRpZXIgKi9cbmV4cG9ydCBjb25zdCBuZWlnaGJvdXJMb2NhdGlvbk1hcCA9IFtcbiAgWy0xLCAtMV0sIFstMSwgKzBdLCBbLTEsICsxXSxcbiAgWyswLCAtMV0sIC8qICAgICovICBbKzAsICsxXSxcbiAgWysxLCAtMV0sIFsrMSwgKzBdLCBbKzEsICsxXSxcbl07XG4vKiBlc2xpbnQtZW5hYmxlIHByZXR0aWVyL3ByZXR0aWVyICovXG4iLCJpbXBvcnQgeyBDb250cm9sUGFuZWxDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbnRyb2wtcGFuZWwvY29udHJvbC1wYW5lbC5jb21wb25lbnQnO1xuaW1wb3J0IHsgU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9zdmcuY29tcG9uZW50JztcbmltcG9ydCB7IFN2Z0ljb25zIH0gZnJvbSAnLi4vZW51bXMvc3ZnLWljb25zJztcbmltcG9ydCB7IFRoZW1lVmFsdWVzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcbmltcG9ydCB7IFNJWkVfVkFSSUFOVFMgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuXG5jb25zdCBUSUxFX1NMSURFUl9QT1NJVElPTl9TVE9SQUdFX0tFWSA9ICd0aWxlU2xpZGVyUG9zaXRpb24nO1xuY29uc3QgTUlORV9TTElERVJfUE9TSVRJT05fU1RPUkFHRV9LRVkgPSAnbWluZVNsaWRlclBvc2l0aW9uJztcblxuZXhwb3J0IGNsYXNzIENvbnRyb2xQYW5lbENvbnRyb2xsZXIge1xuICBjb250cm9sUGFuZWxDb21wb25lbnQgPSBuZXcgQ29udHJvbFBhbmVsQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX2NvbnRyb2wtcGFuZWwnIH0pO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNldHRpbmdzLFxuICAgIGNvbnRhaW5lcixcbiAgICBvblN0YXJ0R2FtZUJ1dHRvbkNsaWNrSGFuZGxlcixcbiAgICBvblRoZW1lQ2hhbmdlSGFuZGxlcixcbiAgICBvblNvdW5kQ2hhbmdlSGFuZGxlcixcbiAgICBvblNjb3JlVGFibGVCdXR0b25DbGlja0hhbmRsZXJcbiAgKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMub25TdGFydEdhbWVCdXR0b25DbGlja0hhbmRsZXIgPSBvblN0YXJ0R2FtZUJ1dHRvbkNsaWNrSGFuZGxlcjtcbiAgICB0aGlzLm9uVGhlbWVDaGFuZ2VIYW5kbGVyID0gb25UaGVtZUNoYW5nZUhhbmRsZXI7XG4gICAgdGhpcy5vblNvdW5kQ2hhbmdlSGFuZGxlciA9IG9uU291bmRDaGFuZ2VIYW5kbGVyO1xuICAgIHRoaXMub25TY29yZVRhYmxlQnV0dG9uQ2xpY2tIYW5kbGVyID0gb25TY29yZVRhYmxlQnV0dG9uQ2xpY2tIYW5kbGVyO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuc2V0SGFuZGxlcnMoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQpO1xuXG4gICAgdGhpcy5zd2l0Y2hTb3VuZEJ1dHRvbkljb24oKTtcbiAgICB0aGlzLnN3aXRjaFRoZW1lQnV0dG9uSWNvbigpO1xuXG4gICAgY29uc3QgdGlsZVNsaWRlclZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oVElMRV9TTElERVJfUE9TSVRJT05fU1RPUkFHRV9LRVkpIHx8IDA7XG4gICAgdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQudGlsZVNldHRpbmdCdXR0b24uc2V0U2xpZGVyVmFsdWUodGlsZVNsaWRlclZhbHVlKTtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbENvbXBvbmVudC50aWxlU2V0dGluZ0J1dHRvbi5zZXRPdXRwdXRWYWx1ZShTSVpFX1ZBUklBTlRTW3RpbGVTbGlkZXJWYWx1ZV0pO1xuICAgIGNvbnN0IG1pbmVTbGlkZXJWYWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKE1JTkVfU0xJREVSX1BPU0lUSU9OX1NUT1JBR0VfS0VZKSB8fCAxMDtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbENvbXBvbmVudC5taW5lU2V0dGluZ0J1dHRvbi5zZXRTbGlkZXJWYWx1ZShtaW5lU2xpZGVyVmFsdWUpO1xuICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50Lm1pbmVTZXR0aW5nQnV0dG9uLnNldE91dHB1dFZhbHVlKG1pbmVTbGlkZXJWYWx1ZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVElMRV9TTElERVJfUE9TSVRJT05fU1RPUkFHRV9LRVksIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LmdldFRpbGVTZXR0aW5nU2xpZGVyVmFsdWUoKSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNSU5FX1NMSURFUl9QT1NJVElPTl9TVE9SQUdFX0tFWSwgdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuZ2V0TWluZVNldHRpbmdTbGlkZXJWYWx1ZSgpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEhhbmRsZXJzKCkge1xuICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LnNldE5ld0dhbWVCdXR0b25DbGlja0hhbmRsZXIoKCkgPT4ge1xuICAgICAgdGhpcy5vblN0YXJ0R2FtZUJ1dHRvbkNsaWNrSGFuZGxlcigpO1xuICAgIH0pO1xuICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LnNldFRpbGVTZXR0aW5nc0J1dHRvbkNsaWNrSGFuZGxlcigoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LmdldFRpbGVTZXR0aW5nU2xpZGVyVmFsdWUoKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFRJTEVfU0xJREVSX1BPU0lUSU9OX1NUT1JBR0VfS0VZLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNvbnRyb2xQYW5lbENvbXBvbmVudC50aWxlU2V0dGluZ0J1dHRvbi5zZXRPdXRwdXRWYWx1ZShTSVpFX1ZBUklBTlRTW3ZhbHVlXSk7XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuc2V0TWluZVNldHRpbmdzQnV0dG9uQ2xpY2tIYW5kbGVyKCgpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuZ2V0TWluZVNldHRpbmdTbGlkZXJWYWx1ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTUlORV9TTElERVJfUE9TSVRJT05fU1RPUkFHRV9LRVksIHZhbHVlKTtcbiAgICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50Lm1pbmVTZXR0aW5nQnV0dG9uLnNldE91dHB1dFZhbHVlKHZhbHVlKTtcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbENvbXBvbmVudC5zZXRTY29yZUJ1dHRvbkNsaWNrSGFuZGxlcigoKSA9PiB7XG4gICAgICB0aGlzLm9uU2NvcmVUYWJsZUJ1dHRvbkNsaWNrSGFuZGxlcigpO1xuICAgIH0pO1xuICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LnNldFRoZW1lQnV0dG9uQ2xpY2tIYW5kbGVyKCgpID0+IHtcbiAgICAgIHRoaXMub25UaGVtZUNoYW5nZUhhbmRsZXIoKTtcbiAgICAgIHRoaXMuc3dpdGNoVGhlbWVCdXR0b25JY29uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuc2V0U291bmRCdXR0b25DbGlja0hhbmRsZXIoKCkgPT4ge1xuICAgICAgdGhpcy5vblNvdW5kQ2hhbmdlSGFuZGxlcigpO1xuICAgICAgdGhpcy5zd2l0Y2hTb3VuZEJ1dHRvbkljb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN3aXRjaFNvdW5kQnV0dG9uSWNvbigpIHtcbiAgICBjb25zdCBzb3VuZEJ1dHRvbkljb24gPSBuZXcgU1ZHQ29tcG9uZW50KHtcbiAgICAgIHRlbXBsYXRlOiB0aGlzLnNldHRpbmdzLm11dGUgPT09IGZhbHNlID8gU3ZnSWNvbnMuTVVURSA6IFN2Z0ljb25zLlVOTVVURSxcbiAgICB9KTtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbENvbXBvbmVudC5zZXRTb3VuZEJ1dHRvbkljb24oc291bmRCdXR0b25JY29uKTtcbiAgfVxuXG4gIHN3aXRjaFRoZW1lQnV0dG9uSWNvbigpIHtcbiAgICBjb25zdCB0aGVtZUJ1dHRvbkljb24gPSBuZXcgU1ZHQ29tcG9uZW50KHtcbiAgICAgIHRlbXBsYXRlOiB0aGlzLnNldHRpbmdzLnRoZW1lID09PSBUaGVtZVZhbHVlcy5MSUdIVCA/IFN2Z0ljb25zLk5JR0hUIDogU3ZnSWNvbnMuREFZLFxuICAgIH0pO1xuICAgIHRoaXMuY29udHJvbFBhbmVsQ29tcG9uZW50LnNldFRoZW1lQnV0dG9uSWNvbih0aGVtZUJ1dHRvbkljb24pO1xuICB9XG5cbiAgZ2V0VGlsZVNldHRpbmdTbGlkZXJWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuZ2V0VGlsZVNldHRpbmdTbGlkZXJWYWx1ZSgpO1xuICB9XG5cbiAgZ2V0TWluZVNldHRpbmdTbGlkZXJWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sUGFuZWxDb21wb25lbnQuZ2V0TWluZVNldHRpbmdTbGlkZXJWYWx1ZSgpO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vaW5mby1maWVsZC5jb21wb25lbnQuc2Nzcyc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgSW5mb0ZpZWxkQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHsgbGFiZWxUZXh0LCBjbGFzc05hbWUgPSBbXSB9KSB7XG4gICAgc3VwZXIoeyB0YWdOYW1lOiAncCcsIGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ2luZm8tZmllbGQnXSB9KTtcbiAgICBjb25zdCBsYWJlbENvbXBvbmVudCA9IG5ldyBCYXNlQ29tcG9uZW50KHtcbiAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgIHRleHRDb250ZW50OiBsYWJlbFRleHQsXG4gICAgICBjbGFzc05hbWU6ICdpbmZvLWZpZWxkX19sYWJlbCcsXG4gICAgfSk7XG4gICAgdGhpcy52YWx1ZUNvbXBvbmVudCA9IG5ldyBCYXNlQ29tcG9uZW50KHtcbiAgICAgIHRhZ05hbWU6ICdvdXRwdXQnLFxuICAgICAgdGV4dENvbnRlbnQ6ICcwMCcsXG4gICAgICBjbGFzc05hbWU6ICdpbmZvLWZpZWxkX192YWx1ZScsXG4gICAgfSk7XG4gICAgdGhpcy5hcHBlbmQobGFiZWxDb21wb25lbnQsIHRoaXMudmFsdWVDb21wb25lbnQpO1xuICB9XG5cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnZhbHVlQ29tcG9uZW50LmdldEVsZW1lbnQoKS50ZXh0Q29udGVudCA9IHZhbHVlO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vdGltZXIuY29tcG9uZW50LnNjc3MnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IEluZm9GaWVsZENvbXBvbmVudCB9IGZyb20gJy4uL2luZm8tZmllbGQvaW5mby1maWVsZC5jb21wb25lbnQnO1xuXG5leHBvcnQgY2xhc3MgVGltZXJDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoeyBjbGFzc05hbWUgfSkge1xuICAgIHN1cGVyKHsgY2xhc3NOYW1lOiBbY2xhc3NOYW1lLCAndGltZXInXSB9KTtcbiAgICB0aGlzLm1pbnV0ZXNDb21wb25lbnQgPSBuZXcgSW5mb0ZpZWxkQ29tcG9uZW50KHtcbiAgICAgIGxhYmVsVGV4dDogJ21pbnV0ZXMnLFxuICAgICAgY2xhc3NOYW1lOiAndGltZXJfX21pbnV0ZXMnLFxuICAgIH0pO1xuICAgIHRoaXMuc2Vjb25kc0NvbXBvbmVudCA9IG5ldyBJbmZvRmllbGRDb21wb25lbnQoe1xuICAgICAgbGFiZWxUZXh0OiAnc2Vjb25kcycsXG4gICAgICBjbGFzc05hbWU6ICd0aW1lcl9fc2Vjb25kcycsXG4gICAgfSk7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5taW51dGVzQ29tcG9uZW50LCB0aGlzLnNlY29uZHNDb21wb25lbnQpO1xuICAgIHRoaXMuYXBwZW5kKFxuICAgICAgbmV3IEJhc2VDb21wb25lbnQoe1xuICAgICAgICB0YWdOYW1lOiAncCcsXG4gICAgICAgIGNsYXNzTmFtZTogJ3RpbWVyX19kaXZpZGVyJyxcbiAgICAgICAgdGV4dENvbnRlbnQ6ICc6JyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHNldFRpbWUoeyBtaW51dGVzLCBzZWNvbmRzIH0pIHtcbiAgICB0aGlzLm1pbnV0ZXNDb21wb25lbnQuc2V0VmFsdWUobWludXRlcyk7XG4gICAgdGhpcy5zZWNvbmRzQ29tcG9uZW50LnNldFZhbHVlKHNlY29uZHMpO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vcGxheWdyb3VuZC5jb21wb25lbnQuc2Nzcyc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGltZXJDb21wb25lbnQgfSBmcm9tICcuLi90aW1lci90aW1lci5jb21wb25lbnQnO1xuaW1wb3J0IHsgSW5mb0ZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5mby1maWVsZC9pbmZvLWZpZWxkLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBQbGF5Z3JvdW5kQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGluZm9CYXIgPSBudWxsO1xuICBib2FyZCA9IG51bGw7XG4gIHRpbWVyID0gbnVsbDtcbiAgdGltZSA9IG51bGw7XG4gIHN0ZXBzID0gbnVsbDtcbiAgdW5tYXJrZWRNaW5lcyA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKHsgY2xhc3NOYW1lIH0pIHtcbiAgICBzdXBlcih7IGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ3BsYXlncm91bmQnXSB9KTtcblxuICAgIHRoaXMuc3RlcHMgPSBuZXcgSW5mb0ZpZWxkQ29tcG9uZW50KHsgbGFiZWxUZXh0OiAnbW92ZXMnIH0pO1xuICAgIHRoaXMudGltZXIgPSBuZXcgVGltZXJDb21wb25lbnQoeyBjbGFzc05hbWU6ICdtaW5lc3dlZXBlcl9fdGltZXInIH0pO1xuICAgIHRoaXMudGltZSA9IG5ldyBJbmZvRmllbGRDb21wb25lbnQoeyBsYWJlbFRleHQ6ICdzZWNvbmRzJyB9KTtcbiAgICB0aGlzLnVubWFya2VkTWluZXMgPSBuZXcgSW5mb0ZpZWxkQ29tcG9uZW50KHsgbGFiZWxUZXh0OiAndW5tYXJrZWQnIH0pO1xuICAgIHRoaXMuaW5mb0JhciA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX2luZm8tYmFyJyB9KTtcbiAgICB0aGlzLmluZm9CYXIuYXBwZW5kKHRoaXMudGltZSwgdGhpcy5zdGVwcywgdGhpcy51bm1hcmtlZE1pbmVzKTtcblxuICAgIHRoaXMuYm9hcmQgPSBuZXcgQmFzZUNvbXBvbmVudCh7XG4gICAgICBjbGFzc05hbWU6IFsnbWluZXN3ZWVwZXJfX2JvYXJkJywgJ2JvYXJkJ10sXG4gICAgfSk7XG5cbiAgICB0aGlzLmFwcGVuZCh0aGlzLmluZm9CYXIsIHRoaXMuYm9hcmQpO1xuICB9XG5cbiAgc2V0U3RlcHNDb21wb25lbnRWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGZvcm1hdHRlZFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIHRoaXMuc3RlcHMuc2V0VmFsdWUoZm9ybWF0dGVkVmFsdWUpO1xuICB9XG5cbiAgc2V0VGltZXJWYWx1ZShzZWNvbmRzKSB7XG4gICAgY29uc3QgZm9ybWF0dGVkVGltZSA9IHtcbiAgICAgIG1pbnV0ZXM6IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKVxuICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAucGFkU3RhcnQoMiwgJzAnKSxcbiAgICAgIHNlY29uZHM6IChzZWNvbmRzICUgNjApLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKSxcbiAgICB9O1xuICAgIHRoaXMudGltZXIuc2V0VGltZShmb3JtYXR0ZWRUaW1lKTtcbiAgfVxuXG4gIHNldFRpbWVWYWx1ZShzZWNvbmRzKSB7XG4gICAgY29uc3QgZm9ybWF0dGVkVmFsdWUgPSBzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTtcbiAgICB0aGlzLnRpbWUuc2V0VmFsdWUoZm9ybWF0dGVkVmFsdWUpO1xuICB9XG5cbiAgc2V0VW5tYXJrZWRNaW5lc1ZhbHVlKHZhbHVlKSB7XG4gICAgbGV0IGZvcm1hdHRlZFZhbHVlO1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgdmFsdWUgPiAtMTApIHtcbiAgICAgIGZvcm1hdHRlZFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS5zcGxpdCgnJyk7XG4gICAgICBmb3JtYXR0ZWRWYWx1ZSA9IFtdLmNvbmNhdChmb3JtYXR0ZWRWYWx1ZVswXSwgJzAnLCBmb3JtYXR0ZWRWYWx1ZVsxXSkuam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1hdHRlZFZhbHVlID0gdmFsdWUudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIH1cbiAgICB0aGlzLnVubWFya2VkTWluZXMuc2V0VmFsdWUoZm9ybWF0dGVkVmFsdWUpO1xuICB9XG5cbiAgc2V0Q29udGV4dEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGhhbmRsZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgJy4vdGlsZS5jb21wb25lbnQuc2Nzcyc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU1ZHQ29tcG9uZW50IH0gZnJvbSAnLi4vc3ZnLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTdmdJY29ucyB9IGZyb20gJy4uLy4uL2VudW1zL3N2Zy1pY29ucyc7XG5cbmNvbnN0IE1JTkVfQ0hBUiA9ICcqJztcbmNvbnN0IENPTE9SX1ZBUklBTlRfQ0xBU1NFUyA9IFtcbiAgJ3RpbGVfX2NvbnRlbnQtLWNvbG9yLXZhcmlhbnQtMXN0JyxcbiAgJ3RpbGVfX2NvbnRlbnQtLWNvbG9yLXZhcmlhbnQtMm5kJyxcbiAgJ3RpbGVfX2NvbnRlbnQtLWNvbG9yLXZhcmlhbnQtM3JkJyxcbl07XG5cbmV4cG9ydCBjbGFzcyBUaWxlQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHsgY2VsbERhdGEsIGNsYXNzTmFtZSA9IFtdIH0pIHtcbiAgICBzdXBlcih7IGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ3RpbGUnXSB9KTtcblxuICAgIGNvbnN0IHsgaWQsIGlzTWFya2VkLCBpc0NvdmVyZWQsIHZhbHVlIH0gPSBjZWxsRGF0YTtcbiAgICB0aGlzLmlzTWFya2VkID0gaXNNYXJrZWQ7XG4gICAgdGhpcy5pc0NvdmVyZWQgPSBpc0NvdmVyZWQ7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuaWQgPSBpZDtcblxuICAgIGlmICh0aGlzLnZhbHVlID09PSBNSU5FX0NIQVIpIHtcbiAgICAgIHRoaXMuY29udGVudCA9IG5ldyBCYXNlQ29tcG9uZW50KHtcbiAgICAgICAgdGFnTmFtZTogJ3NwYW4nLFxuICAgICAgICBjbGFzc05hbWU6ICd0aWxlX19jb250ZW50JyxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250ZW50LmFwcGVuZChuZXcgU1ZHQ29tcG9uZW50KHsgdGVtcGxhdGU6IFN2Z0ljb25zLk1JTkUgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgY29sb3JWYXJpYW50Q2xhc3M7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PT0gTUlORV9DSEFSKSB7XG4gICAgICAgIGNvbG9yVmFyaWFudENsYXNzID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBjeWNsZSA9IENPTE9SX1ZBUklBTlRfQ0xBU1NFUy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy52YWx1ZSAlIGN5Y2xlO1xuICAgICAgICBjb2xvclZhcmlhbnRDbGFzcyA9IENPTE9SX1ZBUklBTlRfQ0xBU1NFU1tpbmRleF07XG4gICAgICB9XG4gICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQmFzZUNvbXBvbmVudCh7XG4gICAgICAgIHRhZ05hbWU6ICdzcGFuJyxcbiAgICAgICAgY2xhc3NOYW1lOiBbY29sb3JWYXJpYW50Q2xhc3MsICd0aWxlX19jb250ZW50J10sXG4gICAgICAgIHRleHRDb250ZW50OiB0aGlzLnZhbHVlID09PSAwID8gJycgOiB0aGlzLnZhbHVlLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuYXBwZW5kKHRoaXMuY29udGVudCk7XG4gICAgaWYgKGlzQ292ZXJlZCkge1xuICAgICAgdGhpcy5jb3ZlciA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAndGlsZV9fY292ZXInIH0pO1xuICAgICAgaWYgKHRoaXMuaXNNYXJrZWQpIHtcbiAgICAgICAgdGhpcy5jb3Zlci5hcHBlbmQobmV3IFNWR0NvbXBvbmVudCh7IHRlbXBsYXRlOiBTdmdJY29ucy5NQVJLIH0pKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXBwZW5kKHRoaXMuY292ZXIpO1xuICAgIH1cbiAgfVxuXG4gIHNldExlZnRDbGlja0hhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMubGVmdENsaWNrSGFuZGxlciA9IGhhbmRsZXI7XG4gICAgdGhpcy5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5sZWZ0Q2xpY2tIYW5kbGVyKTtcbiAgfVxuXG4gIHNldFJpZ2h0Q2xpY2tIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICB0aGlzLnJpZ3RoQ2xpY2tIYW5kbGVyID0gaGFuZGxlcjtcbiAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLnJpZ3RoQ2xpY2tIYW5kbGVyKTtcbiAgfVxuXG4gIHJlbW92ZUhhbmRsZXJzKCkge1xuICAgIHRoaXMubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubGVmdENsaWNrSGFuZGxlcik7XG4gICAgdGhpcy5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5yaWd0aENsaWNrSGFuZGxlcik7XG4gIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnQobWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgucm91bmQobWluICsgTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pKTtcbn1cbiIsImltcG9ydCB7IGdldFJhbmRvbUludCB9IGZyb20gJy4uL3V0aWxzL2dldC1yYW5kb20taW50JztcbmltcG9ydCB7IG5laWdoYm91ckxvY2F0aW9uTWFwIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcblxuY29uc3QgTU9ERUxfU1RPUkFHRV9LRVkgPSAnbWluZXN3ZWVwZXJNb2RlbCc7XG5jb25zdCBNSU5FX0NIQVIgPSAnKic7XG5cbmNvbnN0IGlzTG9hZFNhdmUgPSB0cnVlO1xuXG5leHBvcnQgY2xhc3MgTWluZXN3ZWVwZXJNb2RlbCB7XG4gIGNlbGxzID0gW107XG4gIG9uRGF0YUNoYW5nZUhhbmRsZXIgPSBudWxsO1xuXG4gIHNldE1vZGVsKHNldHRpbmdzLCBzZXRaZXJvQ2VsbHMsIGNlbGxUb0lnbm9yZUNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3QgaXNIYXNTYXZlID0gISF0aGlzLmxvYWRGcm9tU3RvcmFnZSgpO1xuICAgIGlmIChpc0hhc1NhdmUgJiYgaXNMb2FkU2F2ZSkge1xuICAgICAgdGhpcy5jZWxscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oTU9ERUxfU1RPUkFHRV9LRVkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jZWxscyA9IHRoaXMuZ2VuZXJhdGVDZWxsRGF0YShzZXR0aW5ncywgc2V0WmVyb0NlbGxzLCBjZWxsVG9JZ25vcmVDb29yZGluYXRlcyk7XG4gICAgfVxuICB9XG5cbiAgc2F2ZUluU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNT0RFTF9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkodGhpcy5jZWxscykpO1xuICB9XG5cbiAgZXJhc2VGcm9tU3RvcmFnZSgpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShNT0RFTF9TVE9SQUdFX0tFWSk7XG4gIH1cblxuICBsb2FkRnJvbVN0b3JhZ2UoKSB7XG4gICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKE1PREVMX1NUT1JBR0VfS0VZKTtcbiAgfVxuXG4gIGdldERhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2VsbHM7XG4gIH1cblxuICBnZW5lcmF0ZUNlbGxEYXRhKHsgYm9hcmRTaXplLCBib2FyZE1pbmVDb3VudCB9LCBzZXRaZXJvQ2VsbHMsIGNlbGxUb0lnbm9yZUNvb3JkaW5hdGVzKSB7XG4gICAgY29uc3QgbWluZU1hdHJpeCA9IG5ldyBBcnJheShib2FyZFNpemUpLmZpbGwoMCkubWFwKCgpID0+IG5ldyBBcnJheShib2FyZFNpemUpLmZpbGwoMCkpO1xuXG4gICAgaWYgKHNldFplcm9DZWxscykge1xuICAgICAgbGV0IGNlbGxDb3VudGVyID0gMDtcbiAgICAgIHJldHVybiBtaW5lTWF0cml4Lm1hcCgobGluZSkgPT4ge1xuICAgICAgICByZXR1cm4gbGluZS5tYXAoKGNlbGwpID0+IHtcbiAgICAgICAgICBjb25zdCBjZWxsRGF0YSA9IHsgaWQ6IGNlbGxDb3VudGVyLCBpc01hcmtlZDogZmFsc2UsIGlzQ292ZXJlZDogdHJ1ZSwgdmFsdWU6IGNlbGwgfTtcbiAgICAgICAgICBjZWxsQ291bnRlciArPSAxO1xuICAgICAgICAgIHJldHVybiBjZWxsRGF0YTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgbWluZUNvdW50ID0gMDtcbiAgICB3aGlsZSAobWluZUNvdW50IDwgYm9hcmRNaW5lQ291bnQpIHtcbiAgICAgIGNvbnN0IGxpbmVJbmRleCA9IGdldFJhbmRvbUludCgwLCBib2FyZFNpemUgLSAxKTtcbiAgICAgIGNvbnN0IGNlbGxJbmRleCA9IGdldFJhbmRvbUludCgwLCBib2FyZFNpemUgLSAxKTtcbiAgICAgIGlmIChtaW5lTWF0cml4W2xpbmVJbmRleF1bY2VsbEluZGV4XSAhPT0gTUlORV9DSEFSKSB7XG4gICAgICAgIGlmICghKGxpbmVJbmRleCA9PT0gY2VsbFRvSWdub3JlQ29vcmRpbmF0ZXMubGluZUluZGV4ICYmIGNlbGxJbmRleCA9PT0gY2VsbFRvSWdub3JlQ29vcmRpbmF0ZXMuY2VsbEluZGV4KSkge1xuICAgICAgICAgIG1pbmVNYXRyaXhbbGluZUluZGV4XVtjZWxsSW5kZXhdID0gTUlORV9DSEFSO1xuICAgICAgICAgIG1pbmVDb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNlbGxDb3VudGVyID0gMDtcbiAgICBjb25zdCBkYXRhTWF0cml4ID0gbWluZU1hdHJpeC5tYXAoKGxpbmUsIGxpbmVJbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIGxpbmUubWFwKChjZWxsLCBjZWxsSW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGNlbGwgPT09IE1JTkVfQ0hBUikge1xuICAgICAgICAgIGNvbnN0IGNlbGxEYXRhID0geyBpZDogY2VsbENvdW50ZXIsIGlzTWFya2VkOiBmYWxzZSwgaXNDb3ZlcmVkOiB0cnVlLCB2YWx1ZTogY2VsbCB9O1xuICAgICAgICAgIGNlbGxDb3VudGVyICs9IDE7XG4gICAgICAgICAgcmV0dXJuIGNlbGxEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5laWdoYm91cnNDb3VudCA9IDA7XG4gICAgICAgIG5laWdoYm91ckxvY2F0aW9uTWFwLmZvckVhY2goKGxvY2F0aW9uKSA9PiB7XG4gICAgICAgICAgbGV0IG5laWdoYm91cjtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBsaW5lSW5kZXggKyBsb2NhdGlvblswXSA+PSAwICYmXG4gICAgICAgICAgICBsaW5lSW5kZXggKyBsb2NhdGlvblswXSA8IGJvYXJkU2l6ZSAmJlxuICAgICAgICAgICAgY2VsbEluZGV4ICsgbG9jYXRpb25bMV0gPj0gMCAmJlxuICAgICAgICAgICAgY2VsbEluZGV4ICsgbG9jYXRpb25bMV0gPCBib2FyZFNpemVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG5laWdoYm91ciA9IG1pbmVNYXRyaXhbbGluZUluZGV4ICsgbG9jYXRpb25bMF1dW2NlbGxJbmRleCArIGxvY2F0aW9uWzFdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmVpZ2hib3Vyc0NvdW50ICs9IG5laWdoYm91ciA9PT0gTUlORV9DSEFSID8gMSA6IDA7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjZWxsRGF0YSA9IHsgaWQ6IGNlbGxDb3VudGVyLCBpc01hcmtlZDogZmFsc2UsIGlzQ292ZXJlZDogdHJ1ZSwgdmFsdWU6IG5laWdoYm91cnNDb3VudCB9O1xuICAgICAgICBjZWxsQ291bnRlciArPSAxO1xuICAgICAgICByZXR1cm4gY2VsbERhdGE7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBkYXRhTWF0cml4O1xuICB9XG5cbiAgdXBkYXRlRGF0YShkYXRhKSB7XG4gICAgbGV0IHRhcmdldENlbGw7XG4gICAgZm9yIChsZXQgbGluZSBvZiB0aGlzLmNlbGxzKSB7XG4gICAgICB0YXJnZXRDZWxsID0gbGluZS5maW5kKChjZWxsKSA9PiBjZWxsLmlkID09PSBkYXRhLmlkKTtcbiAgICAgIGlmICh0YXJnZXRDZWxsKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBwcm9wIGluIGRhdGEpIHtcbiAgICAgIHRhcmdldENlbGxbcHJvcF0gPSBkYXRhW3Byb3BdICE9PSB1bmRlZmluZWQgPyBkYXRhW3Byb3BdIDogdGFyZ2V0Q2VsbFtwcm9wXTtcbiAgICB9XG4gICAgdGhpcy5vbkRhdGFDaGFuZ2VIYW5kbGVyKHRhcmdldENlbGwpO1xuICB9XG5cbiAgc2V0T25EYXRhQ2hhbmdlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5vbkRhdGFDaGFuZ2VIYW5kbGVyID0gaGFuZGxlcjtcbiAgfVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldE1hdHJpeENvbXBvbmVudFBvc2lpdG9uKG1hdHJpeCwgY29tcG9uZW50KSB7XG4gIGxldCBsaW5lSW5kZXg7XG4gIGxldCBjZWxsSW5kZXg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbWF0cml4Lmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXRyaXgubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChtYXRyaXhbaV1bal0gPT09IGNvbXBvbmVudCkge1xuICAgICAgICBsaW5lSW5kZXggPSBpO1xuICAgICAgICBjZWxsSW5kZXggPSBqO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgbGluZUluZGV4LCBjZWxsSW5kZXggfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHNcXFxcYXVkaW8vY2xpY2stc291bmQtdmFyaWFudC0xLm1wM1wiOyIsImltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuL2Jhc2UuY29tcG9uZW50JztcblxuaW1wb3J0IGNsaWNrVmFyaWFudDFTb3VuZEZpbGUgZnJvbSAnLi4vYXNzZXRzL21lZGlhL2NsaWNrLXNvdW5kLXZhcmlhbnQtMS5tcDMnO1xuaW1wb3J0IGNsaWNrVmFyaWFudDJTb3VuZEZpbGUgZnJvbSAnLi4vYXNzZXRzL21lZGlhL2NsaWNrLXNvdW5kLXZhcmlhbnQtMi5tcDMnO1xuaW1wb3J0IHdpblNvdW5kRmlsZSBmcm9tICcuLi9hc3NldHMvbWVkaWEvd2luLXNvdW5kLm1wMyc7XG5pbXBvcnQgbG9zZVNvdW5kRmlsZSBmcm9tICcuLi9hc3NldHMvbWVkaWEvbG9zZS1zb3VuZC5tcDMnO1xuXG5jb25zdCBmaWxlTGlzdCA9IFtjbGlja1ZhcmlhbnQxU291bmRGaWxlLCBjbGlja1ZhcmlhbnQyU291bmRGaWxlLCB3aW5Tb3VuZEZpbGUsIGxvc2VTb3VuZEZpbGVdO1xuXG5leHBvcnQgY2xhc3MgQXVkaW9Db21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgbXV0ZWQgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoeyBjbGFzc05hbWUgPSBbXSwgc3JjID0gZmlsZUxpc3QgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBjbGFzc05hbWU6IFtjbGFzc05hbWUsICdhdWRpbyddLCB0YWdOYW1lOiAnYXVkaW8nIH0pO1xuICAgIHRoaXMuc291bmRzID0gc3JjO1xuICAgIHRoaXMuY29tcG9uZW50cyA9IHRoaXMuc291bmRzLm1hcCgoZmlsZSkgPT4ge1xuICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQmFzZUNvbXBvbmVudCh7IHRhZ05hbWU6ICdhdWRpbycgfSk7XG4gICAgICBhdWRpby5nZXRFbGVtZW50KCkuc3JjID0gZmlsZTtcbiAgICAgIHJldHVybiBhdWRpbztcbiAgICB9KTtcbiAgfVxuXG4gIHBsYXlMZWZ0Q2xpY2tTb3VuZCgpIHtcbiAgICBjb25zdCBjb21wb25lbnRUb1BsYXkgPSB0aGlzLmNvbXBvbmVudHNbMV07XG4gICAgdGhpcy5wbGF5U291bmQoY29tcG9uZW50VG9QbGF5KTtcbiAgfVxuXG4gIHBsYXlSaWdodENsaWNrU291bmQoKSB7XG4gICAgY29uc3QgY29tcG9uZW50VG9QbGF5ID0gdGhpcy5jb21wb25lbnRzWzBdO1xuICAgIHRoaXMucGxheVNvdW5kKGNvbXBvbmVudFRvUGxheSk7XG4gIH1cblxuICBwbGF5V2luU291bmQoKSB7XG4gICAgY29uc3QgY29tcG9uZW50VG9QbGF5ID0gdGhpcy5jb21wb25lbnRzWzJdO1xuICAgIHRoaXMucGxheVNvdW5kKGNvbXBvbmVudFRvUGxheSk7XG4gIH1cblxuICBwbGF5TG9zZVNvdW5kKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudFRvUGxheSA9IHRoaXMuY29tcG9uZW50c1szXTtcbiAgICB0aGlzLnBsYXlTb3VuZChjb21wb25lbnRUb1BsYXkpO1xuICB9XG5cbiAgcGxheVNvdW5kKGNvbXBvbmVudFRvUGxheSkge1xuICAgIGNvbXBvbmVudFRvUGxheS5nZXRFbGVtZW50KCkubXV0ZWQgPSB0aGlzLm11dGVkO1xuICAgIGNvbXBvbmVudFRvUGxheS5nZXRFbGVtZW50KCkucGxheSgpO1xuICB9XG5cbiAgbXV0ZSgpIHtcbiAgICB0aGlzLm11dGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHVubXV0ZSgpIHtcbiAgICB0aGlzLm11dGVkID0gZmFsc2U7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHNcXFxcYXVkaW8vY2xpY2stc291bmQtdmFyaWFudC0yLm1wM1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHNcXFxcYXVkaW8vd2luLXNvdW5kLm1wM1wiOyIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhc3NldHNcXFxcYXVkaW8vbG9zZS1zb3VuZC5tcDNcIjsiLCJpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQbGF5Z3JvdW5kQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9wbGF5Z3JvdW5kL3BsYXlncm91bmQuY29tcG9uZW50JztcbmltcG9ydCB7IFRpbGVDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL3RpbGUvdGlsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTWluZXN3ZWVwZXJNb2RlbCB9IGZyb20gJy4uL21vZGVscy9taW5lc3dlZXBlci5tb2RlbCc7XG5pbXBvcnQgeyBuZWlnaGJvdXJMb2NhdGlvbk1hcCwgTE9TRV9TSUdOLCBXSU5fU0lHTiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXRNYXRyaXhDb21wb25lbnRQb3NpaXRvbiB9IGZyb20gJy4uL3V0aWxzL2dldC1tYXRyaXgtcG9zaXRpb24nO1xuaW1wb3J0IHsgQXVkaW9Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2F1ZGlvLmNvbXBvbmVudCc7XG5cbmNvbnN0IFRJTUVSX1NUT1JBR0VfS0VZID0gJ3RpbWVyJztcbmNvbnN0IFNURVBTX1NUT1JBR0VfS0VZID0gJ3N0ZXBzJztcbmNvbnN0IFVOTUFSS0VEX01JTkVTX0NPVU5URVJfU1RPUkFHRV9LRVkgPSAndW5tYXJrZWRNaW5lc0NvdW50ZXInO1xuXG5leHBvcnQgY2xhc3MgUGxheWdyb3VuZENvbnRyb2xsZXIge1xuICBwbGF5Z3JvdW5kID0gbnVsbDtcbiAgdGlsZUNvbXBvbmVudHMgPSBbXTtcbiAgc3RlcHMgPSAwO1xuICB0aW1lciA9IDA7XG4gIHRpbWUgPSAwO1xuICB1bm1hcmtlZE1pbmVzQ291bnRlciA9IDA7XG4gIGludGVydmFsSWQgPSBudWxsO1xuICBpc0dhbWVTdGFydGVkID0gZmFsc2U7XG4gIHNvdW5kRWZmZWN0c0NvbXBvbmVudCA9IG5ldyBBdWRpb0NvbXBvbmVudCgpO1xuXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBjb250YWluZXIsIG9uRW5kR2FtZUhhbmRsZXIpIHtcbiAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5vbkVuZEdhbWVIYW5kbGVyID0gb25FbmRHYW1lSGFuZGxlcjtcbiAgICB0aGlzLmRhdGFDaGFuZ2VIYW5kbGVyID0gdGhpcy5kYXRhQ2hhbmdlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25TdGFydEdhbWVIYW5kbGVyID0gdGhpcy5vblN0YXJ0R2FtZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLm1vZGVsID0gbmV3IE1pbmVzd2VlcGVyTW9kZWwoKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNHYW1lU3RhcnRlZCkge1xuICAgICAgICB0aGlzLm1vZGVsLnNhdmVJblN0b3JhZ2UoKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oVElNRVJfU1RPUkFHRV9LRVksIHRoaXMudGltZXIpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVEVQU19TVE9SQUdFX0tFWSwgdGhpcy5zdGVwcyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVOTUFSS0VEX01JTkVTX0NPVU5URVJfU1RPUkFHRV9LRVksIHRoaXMudW5tYXJrZWRNaW5lc0NvdW50ZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHNhdmVkTW9kZWwgPSB0aGlzLm1vZGVsLmxvYWRGcm9tU3RvcmFnZSgpO1xuICAgIGlmIChzYXZlZE1vZGVsKSB7XG4gICAgICB0aGlzLnN0YXJ0R2FtZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNHYW1lU3RhcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMubW9kZWwuc2V0TW9kZWwodGhpcy5zZXR0aW5ncywgdHJ1ZSk7XG4gICAgdGhpcy5tb2RlbC5zZXRPbkRhdGFDaGFuZ2VIYW5kbGVyKHRoaXMub25TdGFydEdhbWVIYW5kbGVyKTtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5tb2RlbC5nZXREYXRhKCk7XG4gICAgdGhpcy5jcmVhdGVUaWxlQ29tcG9uZW50cyhkYXRhKTtcbiAgICB0aGlzLnJlbmRlclBsYXlncm91bmQoKTtcbiAgfVxuXG4gIGNyZWF0ZVRpbGVDb21wb25lbnRzKGRhdGEpIHtcbiAgICB0aGlzLnRpbGVDb21wb25lbnRzID0gZGF0YS5tYXAoKGRhdGFSb3cpID0+IHtcbiAgICAgIHJldHVybiBkYXRhUm93Lm1hcCgoY2VsbERhdGEpID0+IHRoaXMuY3JlYXRlVGlsZUNvbXBvbmVudChjZWxsRGF0YSkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyUGxheWdyb3VuZCgpIHtcbiAgICBpZiAodGhpcy5wbGF5Z3JvdW5kKSB7XG4gICAgICB0aGlzLnBsYXlncm91bmQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHRoaXMucGxheWdyb3VuZCA9IG5ldyBQbGF5Z3JvdW5kQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX3BsYXlncm91bmQnIH0pO1xuICAgIHRoaXMudGlsZUNvbXBvbmVudHMuZm9yRWFjaCgoZGF0YVJvdykgPT4ge1xuICAgICAgY29uc3QgbGluZSA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbWluZXN3ZWVwZXJfX3RpbGUtcm93JyB9KTtcbiAgICAgIGZvciAobGV0IHRpbGVDb21wb25lbnQgb2YgZGF0YVJvdykge1xuICAgICAgICBsaW5lLmFwcGVuZCh0aWxlQ29tcG9uZW50KTtcbiAgICAgIH1cbiAgICAgIHRoaXMucGxheWdyb3VuZC5ib2FyZC5hcHBlbmQobGluZSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmQodGhpcy5wbGF5Z3JvdW5kKTtcbiAgICB0aGlzLnBsYXlncm91bmQuc2V0Q29udGV4dEhhbmRsZXIoKGV2dCkgPT4gZXZ0LnByZXZlbnREZWZhdWx0KCkpO1xuICB9XG5cbiAgc3RhcnRHYW1lKGNvbXBvbmVudFRvSWdub3JlKSB7XG4gICAgdGhpcy5pc0dhbWVTdGFydGVkID0gdHJ1ZTtcbiAgICBjb25zdCBpZ25vcmVDZWxsQ29vcmRpdGFuZXMgPSBnZXRNYXRyaXhDb21wb25lbnRQb3NpaXRvbih0aGlzLnRpbGVDb21wb25lbnRzLCBjb21wb25lbnRUb0lnbm9yZSk7XG4gICAgdGhpcy5tb2RlbC5zZXRNb2RlbCh0aGlzLnNldHRpbmdzLCBmYWxzZSwgaWdub3JlQ2VsbENvb3JkaXRhbmVzKTtcbiAgICB0aGlzLm1vZGVsLnNldE9uRGF0YUNoYW5nZUhhbmRsZXIodGhpcy5kYXRhQ2hhbmdlSGFuZGxlcik7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMubW9kZWwuZ2V0RGF0YSgpO1xuICAgIHRoaXMuY3JlYXRlVGlsZUNvbXBvbmVudHMoZGF0YSk7XG4gICAgdGhpcy5yZW5kZXJQbGF5Z3JvdW5kKCk7XG4gICAgY29uc3Qgc2F2ZWRUaW1lciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFRJTUVSX1NUT1JBR0VfS0VZKTtcbiAgICBjb25zdCBzYXZlZFN0ZXBzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RFUFNfU1RPUkFHRV9LRVkpO1xuICAgIGNvbnN0IHNhdmVkVW5tYXJrZWRNaW5lc0NvdW50ZXIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVTk1BUktFRF9NSU5FU19DT1VOVEVSX1NUT1JBR0VfS0VZKTtcbiAgICB0aGlzLnRpbWVyID0gK3NhdmVkVGltZXIgfHwgMDtcbiAgICB0aGlzLnN0ZXBzID0gK3NhdmVkU3RlcHMgfHwgMDtcbiAgICB0aGlzLnVubWFya2VkTWluZXNDb3VudGVyID0gK3NhdmVkVW5tYXJrZWRNaW5lc0NvdW50ZXIgfHwgdGhpcy5zZXR0aW5ncy5ib2FyZE1pbmVDb3VudDtcbiAgICB0aGlzLnBsYXlncm91bmQuc2V0VGltZXJWYWx1ZSh0aGlzLnRpbWVyKTtcbiAgICB0aGlzLnBsYXlncm91bmQuc2V0VGltZVZhbHVlKHRoaXMudGltZXIpO1xuICAgIHRoaXMucGxheWdyb3VuZC5zZXRTdGVwc0NvbXBvbmVudFZhbHVlKHRoaXMuc3RlcHMpO1xuICAgIHRoaXMucGxheWdyb3VuZC5zZXRVbm1hcmtlZE1pbmVzVmFsdWUodGhpcy51bm1hcmtlZE1pbmVzQ291bnRlcik7XG4gICAgdGhpcy5hcHBseVNvdW5kU2V0dGluZ3MoKTtcbiAgICB0aGlzLnN0YXJ0VGltZXIoKTtcbiAgICB0aGlzLm1vZGVsLnNhdmVJblN0b3JhZ2UoKTtcbiAgfVxuXG4gIGRhdGFDaGFuZ2VIYW5kbGVyKG5ld0RhdGEpIHtcbiAgICB0aGlzLnJlcmVuZGVyVGlsZShuZXdEYXRhKTtcbiAgfVxuXG4gIG9uU3RhcnRHYW1lSGFuZGxlcihjZWxsVG9JZ25vcmUpIHtcbiAgICB0aGlzLnN0YXJ0R2FtZShjZWxsVG9JZ25vcmUpO1xuICB9XG5cbiAgY3JlYXRlVGlsZUNvbXBvbmVudChjZWxsRGF0YSkge1xuICAgIGxldCB0aWxlQ29tcG9uZW50ID0gbmV3IFRpbGVDb21wb25lbnQoeyBjZWxsRGF0YSB9KTtcbiAgICB0aWxlQ29tcG9uZW50LnNldExlZnRDbGlja0hhbmRsZXIoKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLmlzR2FtZVN0YXJ0ZWQpIHtcbiAgICAgICAgY29uc3QgdGlsZVBvc2l0aW9uID0gZ2V0TWF0cml4Q29tcG9uZW50UG9zaWl0b24odGhpcy50aWxlQ29tcG9uZW50cywgdGlsZUNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMuc3RhcnRHYW1lKHRpbGVDb21wb25lbnQpO1xuICAgICAgICB0aWxlQ29tcG9uZW50ID0gdGhpcy50aWxlQ29tcG9uZW50c1t0aWxlUG9zaXRpb24ubGluZUluZGV4XVt0aWxlUG9zaXRpb24uY2VsbEluZGV4XTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbGVDb21wb25lbnQuaXNDb3ZlcmVkICYmICF0aWxlQ29tcG9uZW50LmlzTWFya2VkKSB7XG4gICAgICAgIHRoaXMuc3RlcHMrKztcbiAgICAgICAgdGhpcy5zZXRTdGVwc0ZpZWxkKCk7XG4gICAgICAgIHRoaXMuc291bmRFZmZlY3RzQ29tcG9uZW50LnBsYXlMZWZ0Q2xpY2tTb3VuZCgpO1xuICAgICAgfVxuICAgICAgdGhpcy51bmNvdmVyVGlsZSh0aWxlQ29tcG9uZW50KTtcbiAgICAgIGlmICh0aWxlQ29tcG9uZW50LnZhbHVlID09PSAnKicpIHtcbiAgICAgICAgdGhpcy5zaG93TWluZXMoKTtcbiAgICAgICAgdGhpcy5zdG9wUGxheWdyb3VuZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RFUFNfU1RPUkFHRV9LRVkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUSU1FUl9TVE9SQUdFX0tFWSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFVOTUFSS0VEX01JTkVTX0NPVU5URVJfU1RPUkFHRV9LRVkpO1xuICAgICAgICB0aGlzLm1vZGVsLmVyYXNlRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgdGhpcy5vbkVuZEdhbWVIYW5kbGVyKExPU0VfU0lHTik7XG4gICAgICAgIHRoaXMuc291bmRFZmZlY3RzQ29tcG9uZW50LnBsYXlMb3NlU291bmQoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY292ZXJlZFRpbGVzQ291bnQgPSB0aGlzLnRpbGVDb21wb25lbnRzXG4gICAgICAgIC5mbGF0KDEpXG4gICAgICAgIC5maWx0ZXIoKGNvbXBvbmVudCkgPT4gY29tcG9uZW50LmlzQ292ZXJlZCAmJiBjb21wb25lbnQudmFsdWUgIT09ICcqJykubGVuZ3RoO1xuICAgICAgY29uc3QgaXNBbGxUaWxlc1VuY292ZXJlZCA9IGNvdmVyZWRUaWxlc0NvdW50ID09PSAwO1xuICAgICAgaWYgKGlzQWxsVGlsZXNVbmNvdmVyZWQpIHtcbiAgICAgICAgdGhpcy5zdG9wUGxheWdyb3VuZEV2ZW50cygpO1xuICAgICAgICB0aGlzLmlzR2FtZVN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RFUFNfU1RPUkFHRV9LRVkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShUSU1FUl9TVE9SQUdFX0tFWSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFVOTUFSS0VEX01JTkVTX0NPVU5URVJfU1RPUkFHRV9LRVkpO1xuICAgICAgICB0aGlzLm1vZGVsLmVyYXNlRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgdGhpcy5vbkVuZEdhbWVIYW5kbGVyKFdJTl9TSUdOLCB0aGlzLnN0ZXBzLCB0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy5zb3VuZEVmZmVjdHNDb21wb25lbnQucGxheVdpblNvdW5kKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnVubWFya2VkTWluZXNDb3VudGVyID1cbiAgICAgICAgdGhpcy5zZXR0aW5ncy5ib2FyZE1pbmVDb3VudCAtXG4gICAgICAgIHRoaXMudGlsZUNvbXBvbmVudHMuZmxhdCgxKS5maWx0ZXIoKGNvbXBvbmVudCkgPT4gY29tcG9uZW50LmlzTWFya2VkID09PSB0cnVlKS5sZW5ndGg7XG4gICAgICB0aGlzLnBsYXlncm91bmQuc2V0VW5tYXJrZWRNaW5lc1ZhbHVlKHRoaXMudW5tYXJrZWRNaW5lc0NvdW50ZXIpO1xuICAgIH0pO1xuICAgIHRpbGVDb21wb25lbnQuc2V0UmlnaHRDbGlja0hhbmRsZXIoKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAodGhpcy5pc0dhbWVTdGFydGVkKSB7XG4gICAgICAgIHRoaXMuc291bmRFZmZlY3RzQ29tcG9uZW50LnBsYXlSaWdodENsaWNrU291bmQoKTtcbiAgICAgICAgdGhpcy5tb2RlbC51cGRhdGVEYXRhKHsgaWQ6IHRpbGVDb21wb25lbnQuaWQsIGlzTWFya2VkOiAhdGlsZUNvbXBvbmVudC5pc01hcmtlZCB9KTtcbiAgICAgICAgdGhpcy51bm1hcmtlZE1pbmVzQ291bnRlciA9XG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5ib2FyZE1pbmVDb3VudCAtXG4gICAgICAgICAgdGhpcy50aWxlQ29tcG9uZW50cy5mbGF0KDEpLmZpbHRlcigoY29tcG9uZW50KSA9PiBjb21wb25lbnQuaXNNYXJrZWQgPT09IHRydWUpLmxlbmd0aDtcbiAgICAgICAgdGhpcy5wbGF5Z3JvdW5kLnNldFVubWFya2VkTWluZXNWYWx1ZSh0aGlzLnVubWFya2VkTWluZXNDb3VudGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdGlsZUNvbXBvbmVudDtcbiAgfVxuXG4gIHJlc3RhcnRHYW1lKCkge1xuICAgIHRoaXMubW9kZWwuZXJhc2VGcm9tU3RvcmFnZSgpO1xuICAgIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oVElNRVJfU1RPUkFHRV9LRVkpO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNURVBTX1NUT1JBR0VfS0VZKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShVTk1BUktFRF9NSU5FU19DT1VOVEVSX1NUT1JBR0VfS0VZKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgcmVyZW5kZXJUaWxlKG5ld0RhdGEpIHtcbiAgICBsZXQgdGFyZ2V0Q29tcG9uZW50O1xuICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy50aWxlQ29tcG9uZW50cykge1xuICAgICAgdGFyZ2V0Q29tcG9uZW50ID0gbGluZS5maW5kKChjb21wb25lbnQpID0+IGNvbXBvbmVudC5pZCA9PT0gbmV3RGF0YS5pZCk7XG4gICAgICBpZiAodGFyZ2V0Q29tcG9uZW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHsgbGluZUluZGV4LCBjZWxsSW5kZXggfSA9IGdldE1hdHJpeENvbXBvbmVudFBvc2lpdG9uKHRoaXMudGlsZUNvbXBvbmVudHMsIHRhcmdldENvbXBvbmVudCk7XG4gICAgY29uc3QgbmV3VGlsZUNvbXBvbmVudCA9IHRoaXMuY3JlYXRlVGlsZUNvbXBvbmVudChuZXdEYXRhKTtcbiAgICB0YXJnZXRDb21wb25lbnQubm9kZS5yZXBsYWNlV2l0aChuZXdUaWxlQ29tcG9uZW50Lm5vZGUpO1xuICAgIHRhcmdldENvbXBvbmVudC5kZXN0cm95KCk7XG4gICAgdGFyZ2V0Q29tcG9uZW50ID0gbnVsbDtcbiAgICB0aGlzLnRpbGVDb21wb25lbnRzW2xpbmVJbmRleF1bY2VsbEluZGV4XSA9IG5ld1RpbGVDb21wb25lbnQ7XG4gIH1cblxuICB1bmNvdmVyVGlsZSh0aWxlQ29tcG9uZW50KSB7XG4gICAgaWYgKHRpbGVDb21wb25lbnQudmFsdWUgPT09IDAgJiYgdGlsZUNvbXBvbmVudC5pc0NvdmVyZWQgJiYgdGlsZUNvbXBvbmVudC5pc01hcmtlZCA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudFBvc2l0aW9uID0gZ2V0TWF0cml4Q29tcG9uZW50UG9zaWl0b24odGhpcy50aWxlQ29tcG9uZW50cywgdGlsZUNvbXBvbmVudCk7XG4gICAgICBjb25zdCB7IGNlbGxJbmRleCwgbGluZUluZGV4IH0gPSBjb21wb25lbnRQb3NpdGlvbjtcbiAgICAgIHRoaXMubW9kZWwudXBkYXRlRGF0YSh7IGlkOiB0aWxlQ29tcG9uZW50LmlkLCBpc0NvdmVyZWQ6IGZhbHNlLCBpc01hcmtlZDogZmFsc2UgfSk7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy50aWxlQ29tcG9uZW50cy5sZW5ndGg7XG4gICAgICBuZWlnaGJvdXJMb2NhdGlvbk1hcC5mb3JFYWNoKChsb2NhdGlvbikgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbGluZUluZGV4ICsgbG9jYXRpb25bMF0gPj0gMCAmJlxuICAgICAgICAgIGxpbmVJbmRleCArIGxvY2F0aW9uWzBdIDwgc2l6ZSAmJlxuICAgICAgICAgIGNlbGxJbmRleCArIGxvY2F0aW9uWzFdID49IDAgJiZcbiAgICAgICAgICBjZWxsSW5kZXggKyBsb2NhdGlvblsxXSA8IHNpemVcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgbmVpZ2hib3VyID0gdGhpcy50aWxlQ29tcG9uZW50c1tsaW5lSW5kZXggKyBsb2NhdGlvblswXV1bY2VsbEluZGV4ICsgbG9jYXRpb25bMV1dO1xuICAgICAgICAgIHRoaXMudW5jb3ZlclRpbGUobmVpZ2hib3VyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGlsZUNvbXBvbmVudC5pc01hcmtlZCkge1xuICAgICAgICB0aGlzLm1vZGVsLnVwZGF0ZURhdGEoeyBpZDogdGlsZUNvbXBvbmVudC5pZCwgaXNDb3ZlcmVkOiBmYWxzZSwgaXNNYXJrZWQ6IGZhbHNlIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNob3dNaW5lcygpIHtcbiAgICBjb25zdCBtaW5lcyA9IHRoaXMudGlsZUNvbXBvbmVudHMuZmxhdCgxKS5maWx0ZXIoKGNvbXBvbmVudCkgPT4gY29tcG9uZW50LnZhbHVlID09PSAnKicpO1xuICAgIG1pbmVzLmZvckVhY2goKGNvbXBvbmVudCkgPT4gdGhpcy51bmNvdmVyVGlsZShjb21wb25lbnQpKTtcbiAgfVxuXG4gIHN0b3BQbGF5Z3JvdW5kRXZlbnRzKCkge1xuICAgIHRoaXMudGlsZUNvbXBvbmVudHMuZmxhdCgxKS5mb3JFYWNoKChjb21wb25lbnQpID0+IGNvbXBvbmVudC5yZW1vdmVIYW5kbGVycygpKTtcbiAgfVxuXG4gIGFwcGx5U291bmRTZXR0aW5ncygpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5tdXRlKSB7XG4gICAgICB0aGlzLnNvdW5kRWZmZWN0c0NvbXBvbmVudC5tdXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc291bmRFZmZlY3RzQ29tcG9uZW50LnVubXV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHNldFRpbWVyRmllbGQoeyBtaW51dGVzLCBzZWNvbmRzIH0pIHtcbiAgICB0aGlzLnBsYXlncm91bmQuZ2V0VGltZXJDb21wb25lbnQoKS5zZXRUaW1lKHsgbWludXRlcywgc2Vjb25kcyB9KTtcbiAgfVxuXG4gIHNldFN0ZXBzRmllbGQoKSB7XG4gICAgdGhpcy5wbGF5Z3JvdW5kLnNldFN0ZXBzQ29tcG9uZW50VmFsdWUodGhpcy5zdGVwcyk7XG4gIH1cblxuICBzdG9wVGltZXIoKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICB9XG5cbiAgc3RhcnRUaW1lcigpIHtcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnRpbWVyICs9IDE7XG4gICAgICB0aGlzLnBsYXlncm91bmQuc2V0VGltZXJWYWx1ZSh0aGlzLnRpbWVyKTtcbiAgICAgIHRoaXMucGxheWdyb3VuZC5zZXRUaW1lVmFsdWUodGhpcy50aW1lcik7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBnZXRNb2RlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5tb2RlbDtcbiAgfVxufVxuIiwiaW1wb3J0ICcuL21vZGFsLmNvbXBvbmVudC5zY3NzJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQgfSBmcm9tICcuLi9idXR0b24vYnV0dG9uLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBjbGFzcyBFbmRHYW1lTW9kYWxDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoeyBjbGFzc05hbWUgPSBbXSwgdGV4dENvbnRlbnQgfSkge1xuICAgIHN1cGVyKHsgY2xhc3NOYW1lOiBbY2xhc3NOYW1lLCAnbW9kYWwnXSB9KTtcblxuICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX2JhY2tncm91bmQnIH0pO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX2NvbnRhaW5lcicgfSk7XG4gICAgY29uc3QgdGV4dCA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX3RleHQnLCB0ZXh0Q29udGVudCB9KTtcbiAgICB0aGlzLnN1Ym1pdEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoeyBjbGFzc05hbWU6ICdtb2RhbF9fYnV0dG9uJywgdGV4dENvbnRlbnQ6ICdPSycgfSk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kKHRleHQsIHRoaXMuc3VibWl0QnV0dG9uKTtcbiAgICB0aGlzLmJhY2tncm91bmQuYXBwZW5kKGNvbnRhaW5lcik7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5iYWNrZ3JvdW5kKTtcbiAgfVxuXG4gIHNldFN1Ym1pdENsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIH1cbn1cbiIsImltcG9ydCAnLi9tb2RhbC5jb21wb25lbnQuc2Nzcyc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGlzdENvbXBvbmVudCB9IGZyb20gJy4uL2xpc3QuY29tcG9uZW50JztcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24uY29tcG9uZW50JztcblxuZXhwb3J0IGNsYXNzIFNjb3JlVGFibGVNb2RhbENvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IGNsYXNzTmFtZSA9IFtdLCBpdGVtcyB9ID0ge30pIHtcbiAgICBzdXBlcih7IGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgJ21vZGFsJ10sIHRhZ05hbWU6ICdhcnRpY2xlJyB9KTtcbiAgICBsZXQgY29udGVudCA9IG51bGw7XG4gICAgaWYgKGl0ZW1zKSB7XG4gICAgICBjb250ZW50ID0gbmV3IExpc3RDb21wb25lbnQoeyB0YWdOYW1lOiAndWwnLCBjbGFzc05hbWU6ICdtb2RhbF9fbGlzdCcsIGl0ZW1zOiBpdGVtcyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudCA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX3RleHQnLCB0ZXh0Q29udGVudDogJ05vIHJlY29yZHMnIH0pO1xuICAgIH1cblxuICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX2JhY2tncm91bmQnIH0pO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAnbW9kYWxfX2NvbnRhaW5lcicgfSk7XG4gICAgY29uc3QgdGl0bGUgPSBuZXcgQmFzZUNvbXBvbmVudCh7IHRhZ05hbWU6ICdoMScsIGNsYXNzTmFtZTogJ21vZGFsX190aXRsZScsIHRleHRDb250ZW50OiAnc2NvcmUgdGFibGUnIH0pO1xuICAgIHRoaXMuc3VibWl0QnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudCh7IGNsYXNzTmFtZTogJ21vZGFsX19idXR0b24nLCB0ZXh0Q29udGVudDogJ09LJyB9KTtcblxuICAgIGNvbnRhaW5lci5hcHBlbmQodGl0bGUsIGNvbnRlbnQsIHRoaXMuc3VibWl0QnV0dG9uKTtcbiAgICB0aGlzLmJhY2tncm91bmQuYXBwZW5kKGNvbnRhaW5lcik7XG4gICAgdGhpcy5hcHBlbmQodGhpcy5iYWNrZ3JvdW5kKTtcbiAgfVxuXG4gIHNldFN1Ym1pdENsaWNrSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5zdWJtaXRCdXR0b24uZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlcik7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1pbmVzd2VlcGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9taW5lc3dlZXBlci9taW5lc3dlZXBlci5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29udHJvbFBhbmVsQ29udHJvbGxlciB9IGZyb20gJy4vY29udHJvbC1wYW5lbC5jb250cm9sbGVyJztcbmltcG9ydCB7IFBsYXlncm91bmRDb250cm9sbGVyIH0gZnJvbSAnLi9wbGF5Z3JvdW5kLmNvbnRyb2xsZXInO1xuaW1wb3J0IHsgRW5kR2FtZU1vZGFsQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9tb2RhbC9lbmQtZ2FtZS1tb2RhbC5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGhlbWVWYWx1ZXMsIFdJTl9TSUdOLCBXSU5fVEVYVCwgTE9TRV9URVhULCBMT1NFX1NJR04gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xuaW1wb3J0IHsgU0laRV9WQVJJQU5UUyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBTY29yZVRhYmxlTW9kYWxDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL21vZGFsL3Njb3JlLXRhYmxlLW1vZGFsLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9iYXNlLmNvbXBvbmVudCc7XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1MgPSB7XG4gIGJvYXJkU2l6ZTogMTAsXG4gIGJvYXJkTWluZUNvdW50OiAxMCxcbiAgdGhlbWU6IFRoZW1lVmFsdWVzLkxJR0hULFxuICBtdXRlOiBmYWxzZSxcbn07XG5cbmNvbnN0IFNDT1JFX1RBQkxFX1NUT1JBR0VfS0VZID0gJ3Njb3JlVGFibGUnO1xuY29uc3QgU0VUVElOR1NfU1RPUkFHRV9LRVkgPSAnc2V0dGluZ3MnO1xuXG5leHBvcnQgY2xhc3MgTWluZXN3ZWVwZXJDb250cm9sbGVyIHtcbiAgc2F2ZWRTZXR0aW5ncyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oU0VUVElOR1NfU1RPUkFHRV9LRVkpKTtcbiAgc2V0dGluZ3MgPSB0aGlzLnNhdmVkU2V0dGluZ3MgfHwgREVGQVVMVF9TRVRUSU5HUztcbiAgbWluZXN3ZWVwZXJDb21wb25lbnQgPSBuZXcgTWluZXN3ZWVwZXJDb21wb25lbnQoKTtcbiAgY29udHJvbFBhbmVsQ29udHJvbGxlciA9IG5ldyBDb250cm9sUGFuZWxDb250cm9sbGVyKFxuICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgdGhpcy5taW5lc3dlZXBlckNvbXBvbmVudCxcbiAgICB0aGlzLm9uU3RhcnRHYW1lQnV0dG9uQ2xpY2tIYW5kbGVyLmJpbmQodGhpcyksXG4gICAgdGhpcy5vblRoZW1lQ2hhbmdlSGFuZGxlci5iaW5kKHRoaXMpLFxuICAgIHRoaXMub25Tb3VuZENoYW5nZUhhbmRsZXIuYmluZCh0aGlzKSxcbiAgICB0aGlzLm9uU2NvcmVUYWJsZUJ1dHRvbkNsaWNrSGFuZGxlci5iaW5kKHRoaXMpXG4gICk7XG4gIHBsYXlncm91bmRDb250cm9sbGVyID0gbmV3IFBsYXlncm91bmRDb250cm9sbGVyKFxuICAgIHRoaXMuc2V0dGluZ3MsXG4gICAgdGhpcy5taW5lc3dlZXBlckNvbXBvbmVudCxcbiAgICB0aGlzLm9uR2FtZUVuZEhhbmRsZXIuYmluZCh0aGlzKVxuICApO1xuICB0aW1lciA9IG51bGw7XG4gIGludGVydmFsSWQgPSBudWxsO1xuICBzY29yZVRhYmxlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTQ09SRV9UQUJMRV9TVE9SQUdFX0tFWSkpIHx8IFtdO1xuXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZCh0aGlzLm1pbmVzd2VlcGVyQ29tcG9uZW50KTtcbiAgICB0aGlzLmNvbnRyb2xQYW5lbENvbnRyb2xsZXIucmVuZGVyKCk7XG4gICAgdGhpcy5wbGF5Z3JvdW5kQ29udHJvbGxlci5yZW5kZXIoKTtcbiAgICBzd2l0Y2ggKHRoaXMuc2V0dGluZ3MudGhlbWUpIHtcbiAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgdGhpcy5taW5lc3dlZXBlckNvbXBvbmVudC5hZGRDbGFzcyhgdGhlbWUtJHtUaGVtZVZhbHVlcy5MSUdIVH1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkYXJrJzpcbiAgICAgICAgdGhpcy5taW5lc3dlZXBlckNvbXBvbmVudC5hZGRDbGFzcyhgdGhlbWUtJHtUaGVtZVZhbHVlcy5EQVJLfWApO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VUVElOR1NfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uVGhlbWVDaGFuZ2VIYW5kbGVyKCkge1xuICAgIGNvbnN0IHByZXZUaGVtZUNsYXNzTmFtZSA9IGB0aGVtZS0ke3RoaXMuc2V0dGluZ3MudGhlbWV9YDtcbiAgICB0aGlzLm1pbmVzd2VlcGVyQ29tcG9uZW50LnRvZ2dsZUNsYXNzKHByZXZUaGVtZUNsYXNzTmFtZSk7XG5cbiAgICB0aGlzLnNldHRpbmdzLnRoZW1lID0gdGhpcy5zZXR0aW5ncy50aGVtZSA9PT0gVGhlbWVWYWx1ZXMuTElHSFQgPyBUaGVtZVZhbHVlcy5EQVJLIDogVGhlbWVWYWx1ZXMuTElHSFQ7XG5cbiAgICBjb25zdCBuZXdUaGVtZUNsYXNzTmFtZSA9IGB0aGVtZS0ke3RoaXMuc2V0dGluZ3MudGhlbWV9YDtcbiAgICB0aGlzLm1pbmVzd2VlcGVyQ29tcG9uZW50LnRvZ2dsZUNsYXNzKG5ld1RoZW1lQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIG9uU291bmRDaGFuZ2VIYW5kbGVyKCkge1xuICAgIHRoaXMuc2V0dGluZ3MubXV0ZSA9ICF0aGlzLnNldHRpbmdzLm11dGU7XG4gICAgdGhpcy5wbGF5Z3JvdW5kQ29udHJvbGxlci5hcHBseVNvdW5kU2V0dGluZ3MoKTtcbiAgfVxuXG4gIG9uU2NvcmVUYWJsZUJ1dHRvbkNsaWNrSGFuZGxlcigpIHtcbiAgICBpZiAodGhpcy5zY29yZVRhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLnNjb3JlVGFibGUubWFwKChpdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdGltZSwgc3RlcHMgfSA9IGl0ZW07XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgJHtuYW1lfSB8ICR7dGltZX0gfCAke3N0ZXBzfSBtb3Zlc2A7XG4gICAgICAgIGNvbnN0IG5vdGUgPSBuZXcgQmFzZUNvbXBvbmVudCh7IHRleHRDb250ZW50OiBjb250ZW50IH0pO1xuICAgICAgICByZXR1cm4gbm90ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zY29yZU1vZGFsID0gbmV3IFNjb3JlVGFibGVNb2RhbENvbXBvbmVudCh7IGl0ZW1zOiBsaXN0IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNjb3JlTW9kYWwgPSBuZXcgU2NvcmVUYWJsZU1vZGFsQ29tcG9uZW50KCk7XG4gICAgfVxuICAgIHRoaXMuc2NvcmVNb2RhbC5zZXRTdWJtaXRDbGlja0hhbmRsZXIodGhpcy5vblNjb3JlVGFibGVTdWJtaXRDbGlja0hhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5taW5lc3dlZXBlckNvbXBvbmVudC5hcHBlbmQodGhpcy5zY29yZU1vZGFsKTtcbiAgfVxuXG4gIG9uU3RhcnRHYW1lQnV0dG9uQ2xpY2tIYW5kbGVyKCkge1xuICAgIGNvbnN0IHRpbGVTbGlkZXJWYWx1ZSA9IHRoaXMuY29udHJvbFBhbmVsQ29udHJvbGxlci5nZXRUaWxlU2V0dGluZ1NsaWRlclZhbHVlKCk7XG4gICAgY29uc3QgbWluZVNsaWRlclZhbHVlID0gdGhpcy5jb250cm9sUGFuZWxDb250cm9sbGVyLmdldE1pbmVTZXR0aW5nU2xpZGVyVmFsdWUoKTtcblxuICAgIHRoaXMuc2V0dGluZ3MuYm9hcmRTaXplID0gU0laRV9WQVJJQU5UU1t0aWxlU2xpZGVyVmFsdWVdO1xuICAgIHRoaXMuc2V0dGluZ3MuYm9hcmRNaW5lQ291bnQgPSBtaW5lU2xpZGVyVmFsdWU7XG4gICAgdGhpcy5wbGF5Z3JvdW5kQ29udHJvbGxlci5yZXN0YXJ0R2FtZSgpO1xuICB9XG5cbiAgb25FbmRHYW1lU3VibWl0Q2xpY2tIYW5kbGVyKCkge1xuICAgIHRoaXMuZW5kR2FtZU1vZGFsLmRlc3Ryb3koKTtcbiAgICB0aGlzLmVuZEdhbWVNb2RhbCA9IG51bGw7XG4gIH1cblxuICBvblNjb3JlVGFibGVTdWJtaXRDbGlja0hhbmRsZXIoKSB7XG4gICAgdGhpcy5zY29yZU1vZGFsLmRlc3Ryb3koKTtcbiAgICB0aGlzLnNjb3JlTW9kYWwgPSBudWxsO1xuICB9XG5cbiAgb25HYW1lRW5kSGFuZGxlcihzaWduLCBzdGVwcywgdGltZXIpIHtcbiAgICB0aGlzLnBsYXlncm91bmRDb250cm9sbGVyLnN0b3BUaW1lcigpO1xuICAgIHN3aXRjaCAoc2lnbikge1xuICAgICAgY2FzZSBXSU5fU0lHTjoge1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcih0aW1lciAvIDYwKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kcyA9IHRpbWVyICUgNjA7XG4gICAgICAgIGNvbnN0IG1pbnV0ZVN1YnN0ciA9IGAke21pbnV0ZXMgPT09IDAgPyAnJyA6IGAke21pbnV0ZXN9ICAke21pbnV0ZXMgPiAxID8gJ21pbnV0ZXMnIDogJ21pbnV0ZSd9YH1gO1xuICAgICAgICBjb25zdCBzZWNvbmRTdWJzdHIgPSBgJHtzZWNvbmRzID09PSAwID8gJycgOiBgJHtzZWNvbmRzfSAgJHtzZWNvbmRzID4gMSA/ICdzZWNvbmRzJyA6ICdzZWNvbmQnfWB9YDtcbiAgICAgICAgY29uc3QgdGltZVN1YnRyaW5nID1cbiAgICAgICAgICBtaW51dGVTdWJzdHIgPT09ICcnICYmIHNlY29uZFN1YnN0ciA9PT0gJycgPyBgaW5zdGFudGx5IGluYCA6IGBpbiAke21pbnV0ZVN1YnN0cn0gJHtzZWNvbmRTdWJzdHJ9IGFuZGA7XG4gICAgICAgIGNvbnN0IHdpblRleHQgPSBXSU5fVEVYVC5yZXBsYWNlKCdpbiAjIyBzZWNvbmRzIGFuZCcsIHRpbWVTdWJ0cmluZykucmVwbGFjZSgnI04nLCBzdGVwcyk7XG4gICAgICAgIHRoaXMuZW5kR2FtZU1vZGFsID0gbmV3IEVuZEdhbWVNb2RhbENvbXBvbmVudCh7IHRleHRDb250ZW50OiB3aW5UZXh0IH0pO1xuICAgICAgICBjb25zdCBzY29yZVJlY29yZCA9IHtcbiAgICAgICAgICBuYW1lOiBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZW4tVVMnLCB7IGhvdXIxMjogZmFsc2UgfSksXG4gICAgICAgICAgdGltZTogYCR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjb25kcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YCxcbiAgICAgICAgICBzdGVwczogc3RlcHMsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2NvcmVUYWJsZS51bnNoaWZ0KHNjb3JlUmVjb3JkKTtcbiAgICAgICAgdGhpcy5zY29yZVRhYmxlLmxlbmd0aCA9IDEwO1xuICAgICAgICB0aGlzLnNjb3JlVGFibGUgPSB0aGlzLnNjb3JlVGFibGUuZmlsdGVyKChzY29yZSkgPT4gc2NvcmUgIT09IG51bGwpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTQ09SRV9UQUJMRV9TVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkodGhpcy5zY29yZVRhYmxlKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBMT1NFX1NJR046XG4gICAgICAgIHRoaXMuZW5kR2FtZU1vZGFsID0gbmV3IEVuZEdhbWVNb2RhbENvbXBvbmVudCh7IHRleHRDb250ZW50OiBMT1NFX1RFWFQgfSk7XG4gICAgfVxuICAgIHRoaXMuZW5kR2FtZU1vZGFsLnNldFN1Ym1pdENsaWNrSGFuZGxlcih0aGlzLm9uRW5kR2FtZVN1Ym1pdENsaWNrSGFuZGxlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm1pbmVzd2VlcGVyQ29tcG9uZW50LmFwcGVuZCh0aGlzLmVuZEdhbWVNb2RhbCk7XG4gIH1cbn1cbiIsImltcG9ydCAnLi9hc3NldHMvc3R5bGVzL2dsb2JhbC1zdHlsZXMuc2Nzcyc7XG5pbXBvcnQgJy4vYXNzZXRzL2ZvbnRzL1JvYm90by1SZWd1bGFyLndvZmYnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNaW5lc3dlZXBlckNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL21pbmVzd2VlcGVyLmNvbnRyb2xsZXInO1xuXG5jb25zdCBwYWdlV3JhcHBlciA9IG5ldyBCYXNlQ29tcG9uZW50KHsgY2xhc3NOYW1lOiAncGFnZS13cmFwcGVyJyB9KTtcbmRvY3VtZW50LmJvZHkuYXBwZW5kKHBhZ2VXcmFwcGVyLmdldEVsZW1lbnQoKSk7XG5cbmNvbnN0IG1pbmVzd2VlcGVyQ29udHJvbGxlciA9IG5ldyBNaW5lc3dlZXBlckNvbnRyb2xsZXIocGFnZVdyYXBwZXIpO1xubWluZXN3ZWVwZXJDb250cm9sbGVyLnJlbmRlcigpO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsIkJhc2VDb21wb25lbnQiLCJub2RlIiwiY29uc3RydWN0b3IiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwidGV4dENvbnRlbnQiLCJwYXJlbnROb2RlIiwiY3JlYXRlRWxlbWVudCIsImFkZENsYXNzIiwiYXBwZW5kIiwiY29tcG9uZW50cyIsImNvbXBvbmVudCIsImdldEVsZW1lbnQiLCJhZGQiLCJuYW1lIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsImNhbGwiLCJjbGFzc0xpc3QiLCJyZW1vdmVDbGFzcyIsInJlbW92ZSIsInRvZ2dsZUNsYXNzIiwidG9nZ2xlIiwiZGVzdHJveSIsIk1pbmVzd2VlcGVyQ29tcG9uZW50Iiwic3VwZXIiLCJCdXR0b25Db21wb25lbnQiLCJpY29uQ29tcG9uZW50IiwiYTExeUxhYmVsIiwibGFiZWwiLCJzd2l0Y2hJY29uIiwibmV3SWNvbkNvbXBvbmVudCIsInJlcGxhY2VXaXRoIiwiUmFuZ2VJbnB1dENvbXBvbmVudCIsIm1pbiIsIm1heCIsInZhbHVlIiwic3RlcCIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwiZ2V0VmFsdWUiLCJzZXRWYWx1ZSIsIlNWR0NvbXBvbmVudCIsInRlbXBsYXRlIiwiY29udGFpbmVyIiwiaW5uZXJIVE1MIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjcmVhdGVFbGVtZW50RnJvbVRlbXBsYXRlIiwiQnV0dG9uRXhwYW5kYWJsZUNvbXBvbmVudCIsImljb24iLCJyYW5nZUlucHV0Q29tcG9uZW50Iiwib3V0cHV0RmllbGQiLCJnZXRTbGlkZXJWYWx1ZSIsInNldFNsaWRlclZhbHVlIiwic2V0T3V0cHV0VmFsdWUiLCJMaXN0Q29tcG9uZW50IiwiaXRlbXMiLCJsaXN0SXRlbUNvbXBvbmVudCIsIlN2Z0ljb25zIiwiREFZIiwiTElTVCIsIk1BUksiLCJNSU5FIiwiTklHSFQiLCJTRVRUSU5HUyIsIk1VVEUiLCJVTk1VVEUiLCJCVVJHRVIiLCJUSUxFIiwiQ29udHJvbFBhbmVsQ29tcG9uZW50IiwibmV3R2FtZUJ1dHRvbiIsInNjb3JlQnV0dG9uIiwidGhlbWVCdXR0b24iLCJzb3VuZEJ1dHRvbiIsImJ1cmdlckJ1dHRvbiIsImluaXRSYW5nZUlucHV0VmFsdWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidGlsZVNldHRpbmdCdXR0b24iLCJtaW5lU2V0dGluZ0J1dHRvbiIsImJ1dHRvbkdyb3VwIiwiYnV0dG9uTGlzdCIsInNldFRoZW1lQnV0dG9uSWNvbiIsInNldFNvdW5kQnV0dG9uSWNvbiIsImdldFRpbGVTZXR0aW5nU2xpZGVyVmFsdWUiLCJnZXRNaW5lU2V0dGluZ1NsaWRlclZhbHVlIiwic2V0TmV3R2FtZUJ1dHRvbkNsaWNrSGFuZGxlciIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwic2V0VGlsZVNldHRpbmdzQnV0dG9uQ2xpY2tIYW5kbGVyIiwic2V0TWluZVNldHRpbmdzQnV0dG9uQ2xpY2tIYW5kbGVyIiwic2V0U2NvcmVCdXR0b25DbGlja0hhbmRsZXIiLCJzZXRUaGVtZUJ1dHRvbkNsaWNrSGFuZGxlciIsInNldFNvdW5kQnV0dG9uQ2xpY2tIYW5kbGVyIiwiVGhlbWVWYWx1ZXMiLCJTSVpFX1ZBUklBTlRTIiwiTE9TRV9TSUdOIiwibmVpZ2hib3VyTG9jYXRpb25NYXAiLCJUSUxFX1NMSURFUl9QT1NJVElPTl9TVE9SQUdFX0tFWSIsIk1JTkVfU0xJREVSX1BPU0lUSU9OX1NUT1JBR0VfS0VZIiwiQ29udHJvbFBhbmVsQ29udHJvbGxlciIsImNvbnRyb2xQYW5lbENvbXBvbmVudCIsInNldHRpbmdzIiwib25TdGFydEdhbWVCdXR0b25DbGlja0hhbmRsZXIiLCJvblRoZW1lQ2hhbmdlSGFuZGxlciIsIm9uU291bmRDaGFuZ2VIYW5kbGVyIiwib25TY29yZVRhYmxlQnV0dG9uQ2xpY2tIYW5kbGVyIiwicmVuZGVyIiwic2V0SGFuZGxlcnMiLCJzd2l0Y2hTb3VuZEJ1dHRvbkljb24iLCJzd2l0Y2hUaGVtZUJ1dHRvbkljb24iLCJ0aWxlU2xpZGVyVmFsdWUiLCJtaW5lU2xpZGVyVmFsdWUiLCJzZXRJdGVtIiwic291bmRCdXR0b25JY29uIiwibXV0ZSIsInRoZW1lQnV0dG9uSWNvbiIsInRoZW1lIiwiSW5mb0ZpZWxkQ29tcG9uZW50IiwibGFiZWxUZXh0IiwibGFiZWxDb21wb25lbnQiLCJ2YWx1ZUNvbXBvbmVudCIsIlRpbWVyQ29tcG9uZW50IiwibWludXRlc0NvbXBvbmVudCIsInNlY29uZHNDb21wb25lbnQiLCJzZXRUaW1lIiwibWludXRlcyIsInNlY29uZHMiLCJQbGF5Z3JvdW5kQ29tcG9uZW50IiwiaW5mb0JhciIsImJvYXJkIiwidGltZXIiLCJ0aW1lIiwic3RlcHMiLCJ1bm1hcmtlZE1pbmVzIiwic2V0U3RlcHNDb21wb25lbnRWYWx1ZSIsImZvcm1hdHRlZFZhbHVlIiwicGFkU3RhcnQiLCJzZXRUaW1lclZhbHVlIiwiZm9ybWF0dGVkVGltZSIsIk1hdGgiLCJmbG9vciIsInNldFRpbWVWYWx1ZSIsInNldFVubWFya2VkTWluZXNWYWx1ZSIsInNwbGl0IiwiY29uY2F0Iiwiam9pbiIsInNldENvbnRleHRIYW5kbGVyIiwiQ09MT1JfVkFSSUFOVF9DTEFTU0VTIiwiVGlsZUNvbXBvbmVudCIsImNlbGxEYXRhIiwiaWQiLCJpc01hcmtlZCIsImlzQ292ZXJlZCIsImNvbnRlbnQiLCJjb2xvclZhcmlhbnRDbGFzcyIsImN5Y2xlIiwiaW5kZXgiLCJjb3ZlciIsInNldExlZnRDbGlja0hhbmRsZXIiLCJsZWZ0Q2xpY2tIYW5kbGVyIiwic2V0UmlnaHRDbGlja0hhbmRsZXIiLCJyaWd0aENsaWNrSGFuZGxlciIsInJlbW92ZUhhbmRsZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldFJhbmRvbUludCIsInJvdW5kIiwicmFuZG9tIiwiTU9ERUxfU1RPUkFHRV9LRVkiLCJNaW5lc3dlZXBlck1vZGVsIiwiY2VsbHMiLCJvbkRhdGFDaGFuZ2VIYW5kbGVyIiwic2V0TW9kZWwiLCJzZXRaZXJvQ2VsbHMiLCJjZWxsVG9JZ25vcmVDb29yZGluYXRlcyIsImlzSGFzU2F2ZSIsImxvYWRGcm9tU3RvcmFnZSIsIkpTT04iLCJwYXJzZSIsImdlbmVyYXRlQ2VsbERhdGEiLCJzYXZlSW5TdG9yYWdlIiwic3RyaW5naWZ5IiwiZXJhc2VGcm9tU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJnZXREYXRhIiwiYm9hcmRTaXplIiwiYm9hcmRNaW5lQ291bnQiLCJtaW5lTWF0cml4IiwiZmlsbCIsIm1hcCIsImNlbGxDb3VudGVyIiwibGluZSIsImNlbGwiLCJtaW5lQ291bnQiLCJsaW5lSW5kZXgiLCJjZWxsSW5kZXgiLCJuZWlnaGJvdXJzQ291bnQiLCJmb3JFYWNoIiwibmVpZ2hib3VyIiwidXBkYXRlRGF0YSIsImRhdGEiLCJ0YXJnZXRDZWxsIiwiZmluZCIsInByb3AiLCJ1bmRlZmluZWQiLCJzZXRPbkRhdGFDaGFuZ2VIYW5kbGVyIiwiZ2V0TWF0cml4Q29tcG9uZW50UG9zaWl0b24iLCJtYXRyaXgiLCJqIiwiZmlsZUxpc3QiLCJBdWRpb0NvbXBvbmVudCIsIm11dGVkIiwic291bmRzIiwiZmlsZSIsImF1ZGlvIiwicGxheUxlZnRDbGlja1NvdW5kIiwiY29tcG9uZW50VG9QbGF5IiwicGxheVNvdW5kIiwicGxheVJpZ2h0Q2xpY2tTb3VuZCIsInBsYXlXaW5Tb3VuZCIsInBsYXlMb3NlU291bmQiLCJwbGF5IiwidW5tdXRlIiwiVElNRVJfU1RPUkFHRV9LRVkiLCJTVEVQU19TVE9SQUdFX0tFWSIsIlVOTUFSS0VEX01JTkVTX0NPVU5URVJfU1RPUkFHRV9LRVkiLCJQbGF5Z3JvdW5kQ29udHJvbGxlciIsInBsYXlncm91bmQiLCJ0aWxlQ29tcG9uZW50cyIsInVubWFya2VkTWluZXNDb3VudGVyIiwiaW50ZXJ2YWxJZCIsImlzR2FtZVN0YXJ0ZWQiLCJzb3VuZEVmZmVjdHNDb21wb25lbnQiLCJvbkVuZEdhbWVIYW5kbGVyIiwiZGF0YUNoYW5nZUhhbmRsZXIiLCJiaW5kIiwib25TdGFydEdhbWVIYW5kbGVyIiwibW9kZWwiLCJzdGFydEdhbWUiLCJjcmVhdGVUaWxlQ29tcG9uZW50cyIsInJlbmRlclBsYXlncm91bmQiLCJkYXRhUm93IiwiY3JlYXRlVGlsZUNvbXBvbmVudCIsInRpbGVDb21wb25lbnQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImNvbXBvbmVudFRvSWdub3JlIiwiaWdub3JlQ2VsbENvb3JkaXRhbmVzIiwic2F2ZWRUaW1lciIsInNhdmVkU3RlcHMiLCJzYXZlZFVubWFya2VkTWluZXNDb3VudGVyIiwiYXBwbHlTb3VuZFNldHRpbmdzIiwic3RhcnRUaW1lciIsIm5ld0RhdGEiLCJyZXJlbmRlclRpbGUiLCJjZWxsVG9JZ25vcmUiLCJ0aWxlUG9zaXRpb24iLCJzZXRTdGVwc0ZpZWxkIiwidW5jb3ZlclRpbGUiLCJzaG93TWluZXMiLCJzdG9wUGxheWdyb3VuZEV2ZW50cyIsImZsYXQiLCJmaWx0ZXIiLCJyZXN0YXJ0R2FtZSIsInN0b3BUaW1lciIsInRhcmdldENvbXBvbmVudCIsIm5ld1RpbGVDb21wb25lbnQiLCJjb21wb25lbnRQb3NpdGlvbiIsInNpemUiLCJzZXRUaW1lckZpZWxkIiwiZ2V0VGltZXJDb21wb25lbnQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJnZXRNb2RlbCIsIkVuZEdhbWVNb2RhbENvbXBvbmVudCIsImJhY2tncm91bmQiLCJ0ZXh0Iiwic3VibWl0QnV0dG9uIiwic2V0U3VibWl0Q2xpY2tIYW5kbGVyIiwiU2NvcmVUYWJsZU1vZGFsQ29tcG9uZW50IiwidGl0bGUiLCJERUZBVUxUX1NFVFRJTkdTIiwiU0NPUkVfVEFCTEVfU1RPUkFHRV9LRVkiLCJTRVRUSU5HU19TVE9SQUdFX0tFWSIsInBhZ2VXcmFwcGVyIiwiYm9keSIsInNhdmVkU2V0dGluZ3MiLCJtaW5lc3dlZXBlckNvbXBvbmVudCIsImNvbnRyb2xQYW5lbENvbnRyb2xsZXIiLCJwbGF5Z3JvdW5kQ29udHJvbGxlciIsIm9uR2FtZUVuZEhhbmRsZXIiLCJzY29yZVRhYmxlIiwicHJldlRoZW1lQ2xhc3NOYW1lIiwibmV3VGhlbWVDbGFzc05hbWUiLCJsaXN0Iiwic2NvcmVNb2RhbCIsIm9uU2NvcmVUYWJsZVN1Ym1pdENsaWNrSGFuZGxlciIsIm9uRW5kR2FtZVN1Ym1pdENsaWNrSGFuZGxlciIsImVuZEdhbWVNb2RhbCIsInNpZ24iLCJtaW51dGVTdWJzdHIiLCJzZWNvbmRTdWJzdHIiLCJ3aW5UZXh0Iiwic2NvcmVSZWNvcmQiLCJEYXRlIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91cjEyIiwidW5zaGlmdCIsInNjb3JlIl0sInNvdXJjZVJvb3QiOiIifQ==